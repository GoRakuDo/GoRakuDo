/*
================================================================================
--- GoRakuDo Homepage Styles - QA-Approved & Polished Version ---
================================================================================
*/

/*
================================================================================
--- AI PROMPT & DEVELOPER NOTE: Design Tokens ---

CORE GOAL: 
This `:root` block establishes the design system for the entire website. All colors, primary fonts, and key spacing values are defined here as CSS Variables.

RULES FOR MODIFICATION:
1. To change a site-wide color or font, modify it HERE and only here. This ensures consistency.
2. Do not use hard-coded color values (e.g., `#FFFFFF`) in the rest of the stylesheet. Always use the `var(--variable-name)` syntax.
3. This is the single source of truth for the site's visual theme.

================================================================================
*/
:root {
  /* Colors */
  --clr-background: #0a0a0a;
  --clr-text-primary: #ffffff;
  --clr-text-secondary: #cccccc;
  --clr-text-muted: #aaaaaa;
  --clr-accent: #8b5dff;
  --clr-accent-dark: #7b4def;
  --clr-accent-glow-faint: rgba(139, 93, 255, 0.05);
  --clr-accent-glow-medium: rgba(139, 93, 255, 0.1);
  --clr-accent-glow-strong: rgba(139, 93, 255, 0.2);
  --clr-accent-shadow: rgba(139, 93, 255, 0.4);
  --clr-gold-light: #ffefb8;
  --clr-gold-dark: #e4b43b;

  /* Modal "Paper" Theme */
  --clr-paper-bg: #f7f4f1;
  --clr-paper-text-primary: #3c3c3c;
  --clr-paper-text-secondary: #555;
  --clr-paper-border: #e0dcd8;
  --clr-paper-lines: #dcd9d5;

  /* Typography */
  --font-primary: "Inter", sans-serif;
  --font-serif: "Lora", serif;
  --font-jp: "Yuji Syuku", serif;
  --font-cursive: "Cedarville Cursive", cursive;

  /* Spacing & Borders */
  --section-padding-y: clamp(80px, 10vw, 120px);
  --border-radius-pill: 35px;
  --border-radius-card: 20px;
  --border-radius-btn-small: 25px;

  /* Animation */
  --transition-speed: 0.3s;
}

/* --- 2. Base & Reset Styles --- */
html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-primary);
  background: var(--clr-background);
  color: var(--clr-text-primary);
  overflow-x: hidden;
  line-height: 1.6;
  padding: 0 !important;
}

body.modal-open {
  overflow: hidden;
}

/*
================================================================================
--- AI PROMPT & DEVELOPER NOTE: Accessibility ---

CORE GOAL: 
These rules ensure the site is usable for people with disabilities.

RULES FOR MODIFICATION:
1. `:focus-visible` provides a clear outline for keyboard navigators. DO NOT remove it.
2. `@prefers-reduced-motion` disables animations for users who are sensitive to motion. DO NOT remove this media query or its contents. This is a critical accessibility feature.

================================================================================
*/
:focus-visible {
  outline: 3px solid var(--clr-accent);
  outline-offset: 4px;
  border-radius: var(--border-radius-card);
}
.modal-content :focus-visible {
  outline-color: var(--clr-accent-dark);
}

/*
  "Normal Motion" has been restored by commenting out this accessibility override.
  This block was the "master switch" disabling animations. With it commented out,
  all original transitions and animations, including the ones you specified, will
  now function as intended.
*/
/*
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
*/

/* --- Reusable Components & Transitions --- */
.primary-button,
.secondary-button,
.cta-button,
.docs-button,
.get-started-btn,
.nav-item,
.feature-card,
.discord-link {
  transition:
    transform var(--transition-speed) ease,
    background-color var(--transition-speed) ease,
    border-color var(--transition-speed) ease,
    box-shadow var(--transition-speed) ease,
    color var(--transition-speed) ease;
}
.primary-button:hover,
.secondary-button:hover,
.cta-button:hover,
.docs-button:hover,
.get-started-btn:hover,
.discord-link:hover {
  transform: translateY(-3px);
}
.feature-card:hover {
  transform: translateY(-5px);
  border-color: var(--clr-accent-glow-strong);
  box-shadow: 0 10px 30px var(--clr-accent-glow-medium);
}

/* --- Background Elements --- */

/*
================================================================================
--- AI PROMPT & DEVELOPER NOTE: Gradient Text Effect (CRITICAL) ---

CORE GOAL: 
This CSS creates a text gradient effect. This is a fragile technique that requires specific properties to function correctly.

RULES FOR MODIFICATION:
1. ALL THREE properties (`background`, `-webkit-background-clip`, and `-webkit-text-fill-color`) MUST be present for the effect to work.
2. The `color` property is a FALLBACK for browsers that do not support this effect.
3. DO NOT "simplify" or remove any of these properties. Doing so will break the text styling, likely making it invisible.

================================================================================
*/
.white-gradient-text {
  display: block;
  background: linear-gradient(
    135deg,
    var(--clr-text-primary) 0%,
    var(--clr-text-secondary) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: var(--clr-text-primary); /* Fallback */
}

.mission-section,
.features-section,
.docs-preview-section {
  padding-block: var(--section-padding-y);
  padding-inline: 40px;
}

.mission-container,
.features-container,
.docs-container {
  max-width: 900px;
  margin-inline: auto;
  text-align: center;
}
.features-container {
  max-width: 1100px;
}
.mission-title,
.features-title,
.docs-title {
  font-size: clamp(36px, 4vw, 48px);
  font-weight: 600;
  margin-bottom: 60px;
}
.features-title {
  margin-bottom: 80px;
}
.docs-title {
  margin-bottom: 30px;
}
.mission-text {
  text-align: left;
  margin-bottom: 60px;
}
.mission-text p {
  font-size: 18px;
  color: var(--clr-text-secondary);
  line-height: 1.8;
  margin-bottom: 28px;
}
.mission-cta,
.docs-cta {
  text-align: center;
}
.cta-button,
.docs-button {
  border: none;
  padding: 18px 40px;
  border-radius: var(--border-radius-pill);
  font-size: 18px;
  font-weight: 600;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 12px;
}
.cta-button {
  background: linear-gradient(
    135deg,
    var(--clr-accent) 0%,
    var(--clr-accent-dark) 100%
  );
  color: var(--clr-text-primary);
}
.cta-button:hover {
  box-shadow: 0 15px 40px var(--clr-accent-shadow);
}
.docs-button {
  background: transparent;
  color: var(--clr-text-primary);
  border: 2px solid var(--clr-accent-glow-strong);
}
.docs-button:hover {
  background: var(--clr-accent-glow-medium);
  border-color: var(--clr-accent);
  box-shadow: 0 10px 30px var(--clr-accent-glow-strong);
}
.docs-description {
  font-size: 18px;
  color: var(--clr-text-secondary);
  line-height: 1.7;
  margin-bottom: 50px;
  max-width: 600px;
  margin-inline: auto;
}
.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 40px;
}
.feature-card {
  background: var(--clr-accent-glow-faint);
  border: 1px solid var(--clr-accent-glow-medium);
  border-radius: var(--border-radius-card);
  padding: 40px 30px;
  text-align: center;
}
.feature-icon {
  font-size: 48px;
  margin-bottom: 24px;
}
.feature-card h3 {
  font-size: 24px;
  font-weight: 600;
  margin-bottom: 16px;
  color: var(--clr-text-primary);
}
.feature-card p {
  color: var(--clr-text-muted);
  line-height: 1.7;
  font-size: 16px;
}

/*
================================================================================
--- AI PROMPT & DEVELOPER NOTE: Modal Scrolling Logic (CRITICAL) ---

CORE GOAL: 
The modal must look perfect on desktop (sized to its content with no scrollbar) 
but be fully functional and readable on small screens (where it must shrink and 
become scrollable).

IMPLEMENTATION LOGIC (This is the only correct way to achieve the goal):
- .modal-overlay: Its ONLY job is to use flexbox to center the .modal-content. 
  It should NOT be the element that scrolls.
- .modal-content: This is the key. It MUST have its own `max-height` and `overflow-y` to make the *content box itself* scrollable, which prevents it from being pushed off-screen on small devices.

CONSTRAINT: 
Do not move `max-height` or `overflow-y` to the `.modal-overlay`. Doing so will break the layout on small screens. The logic is overridden for large screens in the `@media (min-width: 1024px)` query at the end of the file.

================================================================================
*/
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(5px);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}
.modal-content {
  background-color: var(--clr-paper-bg);
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800"%3E%3Cg fill="none" stroke="%23DCD9D5" stroke-width="1"%3E%3Cpath d="M-500 75c0 0 125-30 250-30S0 75 0 75s125 30 250 30s250-30 250-30s125-30 250-30S1000 75 1000 75"/%3E%3Cpath d="M-500 125c0 0 125-30 250-30S0 125 0 125s125 30 250 30s250-30 250-30s125-30 250-30S1000 125 1000 125"/%3E%3Cpath d="M-500 175c0 0 125-30 250-30S0 175 0 175s125 30 250 30s250-30 250-30s125-30 250-30S1000 175 1000 175"/%3E%3Cpath d="M-500 225c0 0 125-30 250-30S0 225 0 225s125 30 250 30s250-30 250-30s125-30 250-30S1000 225 1000 225"/%3E%3Cpath d="M-500 275c0 0 125-30 250-30S0 275 0 275s125 30 250 30s250-30 250-30s125-30 250-30S1000 275 1000 275"/%3E%3Cpath d="M-500 325c0 0 125-30 250-30S0 325 0 325s125 30 250 30s250-30 250-30s125-30 250-30S1000 325 1000 325"/%3E%3Cpath d="M-500 375c0 0 125-30 250-30S0 375 0 375s125 30 250 30s250-30 250-30s125-30 250-30S1000 375 1000 375"/%3E%3Cpath d="M-500 425c0 0 125-30 250-30S0 425 0 425s125 30 250 30s250-30 250-30s125-30 250-30S1000 425 1000 425"/%3E%3Cpath d="M-500 475c0 0 125-30 250-30S0 475 0 475s125 30 250 30s250-30 250-30s125-30 250-30S1000 475 1000 475"/%3E%3Cpath d="M-500 525c0 0 125-30 250-30S0 525 0 525s125 30 250 30s250-30 250-30s125-30 250-30S1000 525 1000 525"/%3E%3Cpath d="M-500 575c0 0 125-30 250-30S0 575 0 575s125 30 250 30s250-30 250-30s125-30 250-30S1000 575 1000 575"/%3E%3Cpath d="M-500 625c0 0 125-30 250-30S0 625 0 625s125 30 250 30s250-30 250-30s125-30 250-30S1000 625 1000 625"/%3E%3Cpath d="M-500 675c0 0 125-30 250-30S0 675 0 675s125 30 250 30s250-30 250-30s125-30 250-30S1000 675 1000 675"/%3E%3Cpath d="M-500 725c0 0 125-30 250-30S0 725 0 725s125 30 250 30s250-30 250-30s125-30 250-30S1000 725 1000 725"/%3E%3Cpath d="M-500 775c0 0 125-30 250-30S0 775 0 775s125 30 250 30s250-30 250-30s125-30 250-30S1000 775 1000 775"/%3E%3C/g%3E%3C/svg%3E');
  border-radius: var(--border-radius-card);
  max-width: 600px;
  width: 100%;
  max-height: 95vh;
  overflow-y: auto;
  padding: 45px;
  position: relative;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  border: 1px solid var(--clr-paper-border);
}
.modal-close {
  position: absolute;
  top: 15px;
  right: 15px;
  background: none;
  border: none;
  font-size: 28px;
  color: #999;
  cursor: pointer;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all var(--transition-speed) ease;
}
.modal-close:hover {
  background: #eae6e2;
  color: #333;
}
.modal-header {
  text-align: center;
  margin-bottom: 30px;
  padding-bottom: 25px;
  border-bottom: 1px solid var(--clr-paper-border);
}
.modal-japanese-title {
  font-family: var(--font-jp);
  font-size: 4.5rem;
  color: #333;
  ruby-position: over;
  font-weight: 400;
  line-height: 1;
}
.modal-japanese-title rt {
  font-family: var(--font-primary);
  font-size: 0.9rem;
  color: #666;
  font-weight: 600;
}
.modal-body {
  font-family: var(--font-serif);
  color: var(--clr-paper-text-primary);
  font-size: 1.1rem;
  line-height: 1.8;
  margin-bottom: 30px;
}
.modal-body p {
  margin-bottom: 1.2em;
}
.modal-list {
  /* REASONING: Update to follow Google Material Design 3 standards for consistency */
  list-style: none;
  padding: 0;
  margin: 1rem 0 1rem 1rem; /* Google standard 16px left margin */
  position: relative;
}

.modal-list li {
  /* REASONING: Google standard line height and spacing for optimal readability */
  position: relative;
  padding-left: 1.5rem; /* Space for custom bullet */
  margin-bottom: 0.5rem; /* Consistent spacing between list items */
  line-height: 1.6; /* Google Material Design standard line height */
  font-family: var(--font-primary);
  color: var(--clr-paper-text-primary);
  font-size: 1rem; /* 16px base font size */
}

.modal-list li::before {
  /* REASONING: Custom bullet using CSS pseudo-element for consistent rendering */
  content: "";
  position: absolute;
  left: 0;
  top: 0.75rem; /* Align with first line of text */
  width: 0.375rem; /* 6px - Google Material Design bullet size */
  height: 0.375rem; /* 6px - Perfect circle */
  background-color: var(--clr-accent); /* Use brand purple for consistency */
  border-radius: 50%; /* Perfect circle */
  transform: translateY(-50%); /* Center vertically */
}

/* REASONING: Ensure member-list follows same Google standards */
.member-list {
  list-style: none;
  padding: 0;
  margin: 1rem 0 1rem 1rem; /* Google standard 16px left margin */
  position: relative;
}

.member-list li {
  position: relative;
  padding-left: 1.5rem; /* Space for custom bullet */
  margin-bottom: 0.5rem; /* Consistent spacing between list items */
  line-height: 1.6; /* Google Material Design standard line height */
  font-family: var(--font-primary);
  color: var(--clr-paper-text-primary);
  font-size: 1rem; /* 16px base font size */
}

.member-list li::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.75rem; /* Align with first line of text */
  width: 0.375rem; /* 6px - Google Material Design bullet size */
  height: 0.375rem; /* 6px - Perfect circle */
  background-color: var(--clr-accent); /* Use brand purple for consistency */
  border-radius: 50%; /* Perfect circle */
  transform: translateY(-50%); /* Center vertically */
}
.modal-final-pitch {
  text-align: center;
  font-size: 1.15rem;
  font-weight: 600;
  color: #333;
  margin-top: 30px;
}
.discord-link {
  display: block;
  text-decoration: none;
  background-color: #f8f9fa;
  border: 1px solid #eaeaea;
  border-radius: 8px;
  padding: 20px;
  margin: 30px 0;
}
.discord-link:hover {
  border-color: var(--clr-accent);
  box-shadow: 0 5px 15px var(--clr-accent-glow-strong);
}
.discord-header {
  font-size: 14px;
  color: #666;
  margin-bottom: 8px;
}
.discord-url {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--clr-accent);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.arrow {
  transition: transform var(--transition-speed) ease;
}
.discord-link:hover .arrow {
  transform: translateX(5px);
}
.modal-signature {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  margin-top: 40px;
  padding-top: 25px;
  border-top: 1px solid var(--clr-paper-border);
}
.logo-stamp {
  width: 80px;
  height: 80px;
  opacity: 0.85;
  flex-shrink: 0;
}
.signature-text {
  text-align: right;
}
.signature-title {
  font-size: 14px;
  color: var(--clr-paper-text-secondary);
  margin-bottom: 0;
}
.signature-name {
  font-family: var(--font-cursive);
  font-size: 1.9rem;
  color: #333;
  margin: 0;
}

/* --- Responsive Design --- */
@media (min-width: 1024px) {
  /*
    ============================================================================
    --- AI PROMPT & DEVELOPER NOTE: Desktop Modal Scroll Override ---
    
    CORE GOAL: 
    This rule overrides the mobile-first scroll behavior for the modal on desktop screens.
    
    IMPLEMENTATION LOGIC:
    On screens 1024px or wider, we explicitly remove the `max-height` constraint. 
    This allows the modal's height to be determined by its content, ensuring no 
    scrollbar appears on large screens. DO NOT REMOVE THIS.
    
    ============================================================================
    */
  .modal-content {
    max-height: none;
    overflow-y: visible;
  }
}

@media (max-width: 768px) {
  .hero-buttons {
    flex-direction: column;
    align-items: stretch;
    max-width: 350px;
    margin-inline: auto;
  }
  .primary-button,
  .secondary-button {
    justify-content: center;
  }
  .mission-section,
  .features-section,
  .docs-preview-section {
    padding-inline: 20px;
  }
  .modal-overlay {
    align-items: flex-start;
  }
  .modal-content {
    padding: 30px 25px;
  }
  .modal-japanese-title {
    font-size: 3.5rem;
  }
}

@media (max-width: 480px) {
  .primary-button,
  .secondary-button {
    font-size: 14px;
    padding: 12px 24px;
  }
  .cta-button,
  .docs-button {
    font-size: 16px;
    padding: 14px 28px;
  }
  .modal-content {
    padding: 25px 20px;
    max-height: 95%;
  }
  .modal-japanese-title {
    font-size: 3rem;
  }
  .modal-body {
    font-size: 1rem;
  }
  .signature-name {
    font-size: 1.6rem;
  }
  .modal-signature {
    flex-direction: column;
    align-items: center;
    gap: 20px;
    text-align: center;
  }
  .signature-text {
    text-align: center;
  }
}

/*
================================================================================
--- AI PROMPT & DEVELOPER NOTE: Feathered Section Backgrounds (CRITICAL) ---

CORE GOAL: 
To create soft, feathered background glows for each content section that blend
seamlessly with the main animated background, avoiding any hard edges.

IMPLEMENTATION LOGIC (3-Part System):
1. The `<section>` tag itself is made completely transparent. This is intentional 
   and allows the main `.wave-canvas` to always be visible.
2. A `::before` pseudo-element is created for each section. This element acts as 
   the NEW background layer. It is positioned behind the section's content using
   `z-index: -1`.
3. A `mask-image` is applied to this `::before` pseudo-element. This mask is a 
   gradient that makes the top and bottom edges of the background fade to
   transparency, creating the soft, feathered look.

RULES FOR MODIFICATION:
- DO NOT apply a `background` or `background-color` to the `.main-content > section` 
  selector directly. This will break the transparency effect.
- To change a section's background glow, modify the `background` property of its
  SPECIFIC pseudo-element selector (e.g., `.mission-section::before`).
- DO NOT remove the `mask-image` property. It is essential for the soft edges.

================================================================================
*/
.main-content > section {
  position: relative;
  background: transparent !important;
  z-index: 20;
}

.main-content > section::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  -webkit-mask-image: linear-gradient(
    to bottom,
    transparent 0%,
    black 25%,
    black 75%,
    transparent 100%
  );
  mask-image: linear-gradient(
    to bottom,
    transparent 0%,
    black 25%,
    black 75%,
    transparent 100%
  );
}

/* === CORRECTED STYLES ARE HERE === */
.mission-section::before {
  background: 
    /* Primary buttery smooth gradient */
    linear-gradient(
      180deg,
      rgba(10, 10, 10, 0.08) 0%,
      rgba(10, 10, 10, 0.3) 30%,
      rgba(10, 10, 10, 0.6) 70%,
      rgba(10, 10, 10, 0.7) 100%
    ),
    /* Subtle wave overlay */
      radial-gradient(
        ellipse at 50% 80%,
        rgba(139, 93, 255, 0.03) 0%,
        transparent 50%
      );

  /* Enhanced buttery smooth transitions */
  transition:
    background 0.8s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);

  /* Subtle animation for buttery smooth movement */
  animation: buttery-wave-float 10s ease-in-out infinite;
}

.features-section::before {
  background: 
    /* Primary buttery smooth wave gradient */
    radial-gradient(
      ellipse at 50% 100%,
      rgba(139, 93, 255, 0.12) 0%,
      rgba(139, 93, 255, 0.08) 25%,
      rgba(139, 93, 255, 0.04) 50%,
      transparent 70%
    ),
    /* Secondary subtle wave overlay for depth */
      radial-gradient(
        ellipse at 30% 90%,
        rgba(139, 93, 255, 0.06) 0%,
        rgba(139, 93, 255, 0.03) 40%,
        transparent 60%
      ),
    /* Tertiary wave accent for buttery smoothness */
      radial-gradient(
        ellipse at 70% 95%,
        rgba(139, 93, 255, 0.04) 0%,
        rgba(139, 93, 255, 0.02) 30%,
        transparent 50%
      );

  /* Enhanced buttery smooth transitions */
  transition:
    background 0.8s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);

  /* Subtle animation for buttery smooth movement */
  animation: buttery-wave-float 8s ease-in-out infinite;
}

.docs-preview-section::before {
  background: 
    /* Primary buttery smooth gradient */
    linear-gradient(
      180deg,
      rgba(10, 10, 10, 0.7) 0%,
      rgba(10, 10, 10, 0.5) 30%,
      rgba(10, 10, 10, 0.2) 70%,
      rgba(10, 10, 10, 0.1) 100%
    ),
    /* Subtle wave overlay */
      radial-gradient(
        ellipse at 50% 20%,
        rgba(139, 93, 255, 0.04) 0%,
        transparent 50%
      );

  /* Enhanced buttery smooth transitions */
  transition:
    background 0.8s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);

  /* Subtle animation for buttery smooth movement */
  animation: buttery-wave-float 12s ease-in-out infinite;
}
