---
import UnifiedSEO from "../components/UnifiedSEO.astro";
import "../styles/global.css";
// デフォルトOG画像のパス（publicフォルダ内のファイル）
const defaultOgImage = "/img/Logo Discord 1x.webp";

export interface Props {
  // このレイアウトが受け取るプロパティを定義
  title: string;
  description: string;
  ogImage?: string;
  pageType?: "website" | "article";
  publishedDate?: string;
  // langプロパティを追加
  lang?: "id" | "ja";
  keywords?: string[];
  seoProperties?: {
    articleType?: string;
    learningStage?: string;
    searchIntent?: string;
  };
}

// propsを受け取ります
const { title, description, ogImage, pageType, publishedDate, lang, keywords, seoProperties } =
  Astro.props;
---

<!doctype html>
<!-- <html>タグのlang属性も動的に設定 -->
<html lang={lang || "id"}>
  <head>
    <!-- UnifiedSEO - 統合SEOコンポーネント (DRY原則適用) -->
    <UnifiedSEO
      title={title}
      description={description}
      keywords={keywords}
      canonical={new URL(Astro.request.url).toString()}
      lang={lang || "id"}
      pageType={pageType || "website"}
      image={ogImage || defaultOgImage}
      author="GoRakuDo Team"
      publishedDate={publishedDate}
      gtag={import.meta.env.PUBLIC_GA_ID || undefined}
    />

    <!-- スタイルシートの<link>タグは不要です。上のimport文がその役割を果たします。 -->
  </head>
  <body>
    <!-- 共通のページ構造（NavbarやFooterなど）をここに記述 -->

    <!-- この<slot />に、各ページのユニークなコンテンツが挿入されます -->
    <slot />

    <!-- 共通のスクリプトなどがあればここに配置 -->
  </body>
</html>
