---
interface Props {
  name: string;
  username: string;
  date: string;
  avatar: string;
  body: string;
  nameColor?: string;
}

const {
  name,
  username,
  date,
  avatar,
  body,
  nameColor = '#dbdee1',
} = Astro.props;
---

<div
  class='flex gap-4 p-5 rounded-2xl w-[85vw] sm:w-[350px] md:w-[450px] h-auto md:h-full shrink-0 font-sans text-left bg-[#313338] shadow-lg hover:shadow-2xl hover:bg-[#2e3035] transition-all duration-300 border border-white/5 hover:border-[#4752c4]/50 hover:-translate-y-1'
>
  <!-- Avatar -->
  <div class='shrink-0 cursor-pointer mt-0.5'>
    <div
      class='w-10 h-10 rounded-full overflow-hidden bg-[#1e1f22] ring-2 ring-white/5 hover:opacity-80 transition-opacity relative group/avatar'
    >
      <img
        src={avatar}
        alt={username}
        class='w-full h-full object-cover'
        loading='lazy'
      />
    </div>
  </div>

  <!-- Content -->
  <div class='flex-1 min-w-0'>
    <!-- Header -->
    <div class='flex items-center gap-2 mb-1'>
      <span
        class='font-medium hover:underline decoration-1 underline-offset-2 cursor-pointer text-[1rem] leading-[1.375rem]'
        style={`color:${nameColor}`}
      >
        {username}
      </span>
      <!-- Verified/Bot Badge (Optional - can be added via slot later if needed) -->
      <span
        class='text-[0.75rem] text-[#949ba4] font-medium ml-1 cursor-default'
      >
        {date}
      </span>
    </div>

    <!-- Body Text -->
    <div
      class='text-[#dbdee1] text-[0.9375rem] leading-[1.375rem] whitespace-pre-wrap break-words font-normal'
    >
      {body}
    </div>

    <!-- Attachment -->
    <slot name='attachment' />

    <!-- Reactions -->
    <slot name='reactions' />
  </div>
</div>
