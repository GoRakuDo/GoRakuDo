---
import { CldImage } from 'astro-cloudinary';
import Prose from '../Prose.astro';

interface Props {
  empathyBridgeImage: string;
}
const { empathyBridgeImage } = Astro.props;

const commonImageProps = {
  src: empathyBridgeImage,
  alt: 'Illustrasi Empathy Bridge: Belajar dari pengalaman pahit',
  width: 800,
  height: 800,
  quality: 'auto',
  format: 'auto',
  loading: 'eager' as const,
  class: 'block w-full h-auto object-cover rounded-2xl',
};

const currentYear = new Date().getFullYear();
---

<!-- Hero / Empathy Bridge Section -->
<section class='empathy-bridge-section'>
  <div class='max-w-7xl mx-auto px-4 md:px-8'>
    <!-- Layout:
               - Mobile: flex-col (Natural DOM order: Image Top, Text Bottom)
               - Desktop: grid-cols-12
          -->
    <div
      class='flex flex-col lg:grid lg:grid-cols-12 gap-8 lg:gap-20 lg:items-stretch'
    >
      <!-- Left Column (Text Content) - FIRST IN DOM
               - Mobile: First (Top)
               - Desktop: order-1 (Left), Span 7
          -->
      <div class='w-full lg:order-1 lg:col-span-7 flex flex-col gap-8'>
        <div class='hero-header space-y-6'>
          <!-- BADGE: Capsule Style (Google Vibe -> Skeuo Label) -->
          <div
            class='inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-(--token-purple-base)/10 border border-(--token-purple-base)/30 text-(--token-purple-base) text-xs font-bold tracking-wide uppercase shadow-[inset_0_1px_2px_oklch(1_0_0/0.1),0_2px_4px_oklch(0_0_0/0.5)] skeuo-text-emboss'
          >
            <span
              class='w-2 h-2 rounded-full bg-(--token-purple-base) animate-pulse shadow-[0_0_8px_var(--token-purple-base)]'
            ></span>
            Edisi {currentYear} • Updated
          </div>

          <!-- HEADLINE: Massive Authorithy (Tracking Tight) -->
          <h1
            class='text-4xl sm:text-5xl lg:text-7xl font-black tracking-tighter leading-[1.1] text-left text-white'
          >
            Panduan Immersion <br class='hidden lg:block' />
            <span
              class='text-transparent bg-clip-text bg-linear-to-r from-gray-200 to-gray-500'
              >Bahasa Jepang</span
            >
            <br />
            <span
              class='text-transparent bg-clip-text bg-linear-to-r from-(--token-purple-base) via-fuchsia-400 to-(--token-secondary-gold-base) animate-gradient-x'
              >OTODIDAK</span
            >
          </h1>
        </div>

        <Prose class='prose-lg prose-invert max-w-none'>
          <!-- FEATURED SNIPPET: The "Truth Bomb" -->
          <div
            class='skeuo-card p-6 md:p-8 my-6 relative overflow-hidden group'
          >
            <!-- Raised accent pill for extra depth -->
            <div
              class='absolute top-0 right-0 w-32 h-32 bg-(--token-purple-base)/20 rounded-full blur-2xl pointer-events-none group-hover:bg-(--token-purple-base)/30 transition-colors duration-500'
            >
            </div>

            <p
              class='text-lg md:text-2xl font-bold text-white leading-relaxed relative z-10 skeuo-text-emboss'
            >
              <span
                class='text-(--token-purple-base) drop-shadow-[0_2px_4px_oklch(0.1_0_0/0.8)]'
                >Kamu Tidak Bodoh.</span
              >
              <br />
              Kamu Hanya Korban "Metode Pabrik" yang Salah.
            </p>
          </div>

          <p class='text-(--token-text-secondary)'>
            Kalau kamu lagi baca halaman ini, pasti kamu pernah ngerasain: <strong
              >capek banget tapi nggak maju-maju</strong
            >. Hafal ribuan bunpou, lulus N3/N2, punya sertifikat... tapi pas
            mau ngomong? <em>Blank.</em> Mulut terkunci.
          </p>

          <!-- GAMIFIED STATUS: Mental Debuffs (Mobile Only - Desktop moved to right column) -->
          <div class='grid grid-cols-1 gap-4 my-8 lg:hidden'>
            <!-- Debuff 1: Imposter Syndrome (Rose) -->
            <div
              class='group relative skeuo-inset p-5 transition-all duration-300'
            >
              <div
                class='w-10 h-10 rounded-full bg-[oklch(0.15_0.02_17)] border border-rose-500/30 flex items-center justify-center mb-4 shadow-[inset_0_2px_4px_oklch(0_0_0/0.6),0_1px_1px_oklch(1_0_0/0.05)]'
              >
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  class='w-5 h-5 text-rose-400 drop-shadow-[0_0_8px_oklch(0.67_0.16_16.5/0.5)]'
                  fill='none'
                  viewBox='0 0 24 24'
                  stroke='currentColor'
                  aria-hidden='true'
                  ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z'
                  ></path></svg
                >
              </div>
              <h2
                class='text-rose-400! mt-0! font-bold text-sm uppercase tracking-wider mb-1 skeuo-text-emboss'
              >
                Status: Doubt
              </h2>
              <p class='text-(--token-text-secondary) text-sm italic mb-0!'>
                "Aku nggak berbakat..."
              </p>
            </div>

            <!-- Debuff 2: Guilt (Amber) -->
            <div
              class='group relative skeuo-inset p-5 transition-all duration-300 delay-50'
            >
              <div
                class='w-10 h-10 rounded-full bg-[oklch(0.15_0.02_72)] border border-amber-500/30 flex items-center justify-center mb-4 shadow-[inset_0_2px_4px_oklch(0_0_0/0.6),0_1px_1px_oklch(1_0_0/0.05)]'
              >
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  class='w-5 h-5 text-amber-400 drop-shadow-[0_0_8px_oklch(0.81_0.15_78/0.5)]'
                  fill='none'
                  viewBox='0 0 24 24'
                  stroke='currentColor'
                  aria-hidden='true'
                  ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z'
                  ></path></svg
                >
              </div>
              <h2
                class='text-amber-400! mt-0! font-bold text-sm uppercase tracking-wider mb-1 skeuo-text-emboss'
              >
                Status: Guilt
              </h2>
              <p class='text-(--token-text-secondary) text-sm italic mb-0!'>
                "Aku kurang disiplin..."
              </p>
            </div>

            <!-- Debuff 3: Envy/Confusion (Violet) -->
            <div
              class='group relative skeuo-inset p-5 transition-all duration-300 delay-100'
            >
              <div
                class='w-10 h-10 rounded-full bg-[oklch(0.15_0.02_286)] border border-violet-500/30 flex items-center justify-center mb-4 shadow-[inset_0_2px_4px_oklch(0_0_0/0.6),0_1px_1px_oklch(1_0_0/0.05)]'
              >
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  class='w-5 h-5 text-violet-400 drop-shadow-[0_0_8px_oklch(0.65_0.14_286/0.5)]'
                  fill='none'
                  viewBox='0 0 24 24'
                  stroke='currentColor'
                  aria-hidden='true'
                  ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z'
                  ></path></svg
                >
              </div>
              <h2
                class='text-violet-400! mt-0! font-bold text-sm uppercase tracking-wider mb-1 skeuo-text-emboss'
              >
                Status: Confused
              </h2>
              <p class='text-(--token-text-secondary) text-sm italic mb-0!'>
                "Kok orang lain bisa?"
              </p>
            </div>
          </div>

          <p
            class='font-bold text-lg mb-4 text-white! pl-4 border-l-4 border-(--token-purple-base)'
          >
            Dengerin baik-baik: <span class='text-(--token-purple-base)'
              >Itu bukan salahmu.</span
            >
          </p>

          <p>
            Yang salah adalah metode tradisional yang selama ini kamu
            pakai—hafal rumus, terjemahin kata per kata. Itu metode buat bahasa
            mati (Latin/Yunani), bukan buat manusia hidup.
          </p>

          <!-- Mobile-Only Interleaved Image -->
          <div class='w-full my-8 lg:hidden'>
            <CldImage {...commonImageProps} />
          </div>

          <p>
            Kamu nggak gagal. Kamu cuma dipaksa lari maraton sambil kaki
            dibelenggu besi. Wajar kalau capek. Wajar kalau skeptis. Malah bagus
            kalau skeptis—artinya kamu udah pinter.
          </p>
        </Prose>
      </div>

      <!-- Right Column (Image) - DESKTOP ONLY
               - Mobile: Hidden (shown interleaved above)
               - Desktop: Visible, order-2, Span 5
          -->
      <div class='hidden lg:block w-full lg:order-2 lg:col-span-5 relative'>
        <div
          class='skeuo-card p-6 md:p-8 h-full w-full flex flex-col items-center justify-center relative overflow-visible group z-10'
        >
          <!-- Ambient Glow Display Case Effect -->
          <div
            class='absolute inset-0 bg-[radial-gradient(ellipse_at_center,var(--token-purple-base)_0%,transparent_60%)] opacity-10 group-hover:opacity-20 transition-opacity duration-700 pointer-events-none rounded-3xl'
          >
          </div>

          <div
            class='image-wrapper w-full relative z-10 drop-shadow-[0_20px_40px_rgba(0,0,0,0.8)] transform group-hover:-translate-y-2 group-hover:scale-105 transition-all duration-700 ease-(--ease-smooth)'
          >
            <CldImage
              {...commonImageProps}
              class='block w-full h-auto object-cover rounded-2xl'
            />
          </div>

          <!-- Base label -->
          <div
            class='absolute bottom-6 left-0 right-0 text-center opacity-50 group-hover:opacity-100 transition-opacity duration-500'
          >
            <span
              class='text-xs font-bold tracking-[0.2em] text-white/50 skeuo-text-emboss uppercase'
              >Target Acquisition</span
            >
          </div>
        </div>

        <!-- FLOATING DEBUFF CARDS (Desktop Only) -->
        <!-- Floating Card 1: Doubt (Top Left) -->
        <div
          class='absolute -left-16 lg:-left-24 top-16 z-20 w-56 animate-float'
          style='animation-delay: 0s;'
        >
          <div
            class='skeuo-card backdrop-blur-md bg-[oklch(0.15_0.02_17/0.7)]! p-4 border border-rose-500/20! shadow-[0_10px_30px_oklch(0_0_0/0.8)] transform hover:scale-105 transition-transform duration-300'
          >
            <div class='flex items-center gap-3 mb-2'>
              <div
                class='w-8 h-8 rounded-full bg-rose-500/20 border border-rose-500/40 flex items-center justify-center'
              >
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  class='w-4 h-4 text-rose-400'
                  fill='none'
                  viewBox='0 0 24 24'
                  stroke='currentColor'
                  ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z'
                  ></path></svg
                >
              </div>
              <h3
                class='text-rose-400 font-bold text-xs uppercase tracking-widest m-0'
              >
                Doubt
              </h3>
            </div>
            <p class='text-xs text-white/70 italic leading-snug m-0'>
              &quot;Aku nggak bakat bahasa...&quot;
            </p>
          </div>
        </div>

        <!-- Floating Card 2: Guilt (Middle Right) -->
        <div
          class='absolute -right-8 lg:-right-16 top-1/2 -translate-y-1/2 z-20 w-60 animate-float'
          style='animation-delay: 2s;'
        >
          <div
            class='skeuo-card backdrop-blur-md bg-[oklch(0.15_0.02_72/0.7)]! p-4 border border-amber-500/20! shadow-[0_10px_30px_oklch(0_0_0/0.8)] transform hover:scale-105 transition-transform duration-300'
          >
            <div class='flex items-center gap-3 mb-2'>
              <div
                class='w-8 h-8 rounded-full bg-amber-500/20 border border-amber-500/40 flex items-center justify-center'
              >
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  class='w-4 h-4 text-amber-400'
                  fill='none'
                  viewBox='0 0 24 24'
                  stroke='currentColor'
                  ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z'
                  ></path></svg
                >
              </div>
              <h3
                class='text-amber-400 font-bold text-xs uppercase tracking-widest m-0'
              >
                Guilt
              </h3>
            </div>
            <p class='text-xs text-white/70 italic leading-snug m-0'>
              &quot;Kurang ngehafal vocab...&quot;
            </p>
          </div>
        </div>

        <!-- Floating Card 3: Confused (Bottom Left) -->
        <div
          class='absolute -left-12 lg:-left-20 bottom-24 z-20 w-56 animate-float'
          style='animation-delay: 1s;'
        >
          <div
            class='skeuo-card backdrop-blur-md bg-[oklch(0.15_0.02_286/0.7)]! p-4 border border-violet-500/20! shadow-[0_10px_30px_oklch(0_0_0/0.8)] transform hover:scale-105 transition-transform duration-300'
          >
            <div class='flex items-center gap-3 mb-2'>
              <div
                class='w-8 h-8 rounded-full bg-violet-500/20 border border-violet-500/40 flex items-center justify-center'
              >
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  class='w-4 h-4 text-violet-400'
                  fill='none'
                  viewBox='0 0 24 24'
                  stroke='currentColor'
                  ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z'
                  ></path></svg
                >
              </div>
              <h3
                class='text-violet-400 font-bold text-xs uppercase tracking-widest m-0'
              >
                Confused
              </h3>
            </div>
            <p class='text-xs text-white/70 italic leading-snug m-0'>
              &quot;Kok orang lain bisa lancar?&quot;
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
