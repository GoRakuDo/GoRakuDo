---
/**
 * StageMindsetCard Component
 * The floating insight/mindset glassmorphism card below stage images.
 * Handles theme-specific icon colors.
 */

export interface Props {
  theme: 'emerald' | 'lime' | 'orange' | 'purple';
  title: string;
  description: string;
  /** Position: left or right (for alternating layouts) */
  position?: 'left' | 'right';
}

const { theme, title, description, position = 'right' } = Astro.props;

// Theme color mappings
const themeColors = {
  emerald: {
    iconBg: 'bg-emerald-500/20',
    iconColor: 'text-emerald-400',
    titleColor: 'text-emerald-100',
  },
  lime: {
    iconBg: 'bg-lime-500/20',
    iconColor: 'text-lime-400',
    titleColor: 'text-lime-100',
  },
  orange: {
    iconBg: 'bg-orange-500/20',
    iconColor: 'text-orange-400',
    titleColor: 'text-orange-100',
  },
  purple: {
    iconBg: 'bg-purple-500/20',
    iconColor: 'text-purple-400',
    titleColor: 'text-purple-100',
  },
};

const colors = themeColors[theme];
const positionClasses = position === 'right' ? 'ml-auto mr-4' : 'mr-auto ml-4';
---

<div
  class:list={[
    'relative -mt-16 w-[90%] md:w-[80%] p-5 md:p-6 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 shadow-2xl z-20 group-hover:translate-y-[-10px] transition-transform duration-700 mb-4',
    positionClasses,
  ]}
>
  <div class='flex items-center gap-3 mb-3'>
    <div
      class:list={[
        'w-8 h-8 rounded-full flex items-center justify-center',
        colors.iconBg,
        colors.iconColor,
      ]}
    >
      <!-- Brain icon (generic mindset icon) -->
      <svg
        xmlns='http://www.w3.org/2000/svg'
        width='16'
        height='16'
        viewBox='0 0 24 24'
        fill='none'
        stroke='currentColor'
        stroke-width='2'
        stroke-linecap='round'
        stroke-linejoin='round'
      >
        <path
          d='M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z'
        ></path>
        <path
          d='M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z'
        ></path>
        <path d='M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4'></path>
        <path d='M17.599 6.5a3 3 0 0 0 .399-1.375'></path>
        <path d='M6.003 5.125A3 3 0 0 0 6.401 6.5'></path>
        <path d='M3.477 10.896a4 4 0 0 1 .585-.396'></path>
        <path d='M19.938 10.5a4 4 0 0 1 .585.396'></path>
        <path d='M6 18a4 4 0 0 1-1.967-.516'></path>
        <path d='M19.967 17.484A4 4 0 0 1 18 18'></path>
      </svg>
    </div>
    <h4
      class:list={[
        'font-bold text-sm uppercase tracking-wider',
        colors.titleColor,
      ]}
    >
      {title}
    </h4>
  </div>
  <p class='text-stone-300 text-sm leading-relaxed'>
    {description}
  </p>
</div>
