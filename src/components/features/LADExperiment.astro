---

---

<style>
  /* Base Neutral State - handled by inline classes */

  /* Revealed Content Visibility */
  .lad-card.revealed .initial-prompt {
    opacity: 0;
  }

  .lad-card.revealed .result-content {
    opacity: 1;
    transform: scale(1);
  }

  .lad-card.revealed {
    pointer-events: none; /* Disable further clicks */
  }

  @keyframes popIn {
    0% {
      opacity: 0;
      transform: scale(0.9);
    }

    100% {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes shake {
    0%,
    100% {
      transform: translateX(0);
    }

    25% {
      transform: translateX(-5px) rotate(-5deg);
    }

    75% {
      transform: translateX(5px) rotate(5deg);
    }
  }

  .animate-bounce-in {
    animation: popIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .animate-shake {
    animation: shake 0.5s ease-in-out;
  }
</style>

<!-- 2. The Experiment: Interactive Game Cards -->
<div class='grid lg:grid-cols-2 gap-6 lg:gap-12 mb-12 max-w-5xl mx-auto'>
  <!-- Card 1: Natural -->
  <div
    class='lad-card group relative p-8 rounded-3xl bg-white/5 border border-white/10 transition-all duration-500 transform ease-out flex flex-col cursor-pointer hover:bg-white/10 hover:scale-[1.02] active:scale-95'
    id='card-1'
    data-type='natural'
  >
    <div
      class='text-xs font-bold tracking-widest text-gray-500 mb-4 uppercase transition-colors duration-300 group-[.revealed]:text-emerald-500'
    >
      Kalimat 1
    </div>
    <p
      class='text-xl lg:text-2xl font-medium text-white leading-relaxed font-serif italic mb-8'
    >
      "Saya lagi antri buat beli takoyaki, tapi lupa bawa dompet."
    </p>

    <!-- Result Area -->
    <div class='mt-auto relative min-h-[80px] flex items-end'>
      <!-- Initial Prompt -->
      <div
        class='initial-prompt absolute inset-0 flex items-center justify-center text-white/30 text-sm font-medium transition-opacity duration-300 group-hover:text-white/50'
      >
        (Klik jika ini aneh)
      </div>

      <!-- Result content -->
      <div
        class='result-content w-full transition-all duration-500 opacity-0 scale-95 pointer-events-none absolute inset-0 flex items-center'
      >
        <div class='w-full'>
          <div
            class='absolute -top-10 right-0 p-2 rounded-full bg-emerald-500 text-white shadow-lg shadow-emerald-500/40 animate-bounce-in hidden group-[.revealed]:block'
          >
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='20'
              height='20'
              viewBox='0 0 24 24'
              fill='none'
              stroke='currentColor'
              stroke-width='3'
              stroke-linecap='round'
              stroke-linejoin='round'
              class='lucide lucide-check'><path d='M20 6 9 17l-5-5'></path></svg
            >
          </div>

          <div
            class='flex items-center gap-3 text-sm text-emerald-300 p-3 rounded-xl bg-emerald-500/20 border border-emerald-500/30 backdrop-blur-md'
          >
            <span class='text-lg'>✨</span>
            <span class='font-medium'
              >Natural! Kalimat ini mengalir lancar.</span
            >
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Card 2: Glitch (The Target) -->
  <div
    class='lad-card group relative p-8 rounded-3xl bg-white/5 border border-white/10 transition-all duration-500 transform ease-out flex flex-col cursor-pointer hover:bg-white/10 hover:scale-[1.02] active:scale-95'
    id='card-2'
    data-type='glitch'
  >
    <div
      class='text-xs font-bold tracking-widest text-gray-500 mb-4 uppercase transition-colors duration-300 group-[.revealed]:text-red-500'
    >
      Kalimat 2
    </div>
    <p
      class='quote-text text-xl lg:text-2xl font-medium text-white leading-relaxed font-serif italic mb-8 group-[.revealed]:line-through group-[.revealed]:decoration-red-500/50 group-[.revealed]:decoration-4'
    >
      "Saya ada sedang antri akan beli takoyaki tapi lupa bawa periksa dompet
      melalui."
    </p>

    <!-- Result Area -->
    <div class='mt-auto relative min-h-[80px] flex items-end'>
      <!-- Initial Prompt -->
      <div
        class='initial-prompt absolute inset-0 flex items-center justify-center text-white/30 text-sm font-medium transition-opacity duration-300 group-hover:text-white/50'
      >
        (Klik jika ini aneh)
      </div>

      <!-- Result content -->
      <div
        class='result-content w-full transition-all duration-500 opacity-0 scale-95 pointer-events-none absolute inset-0 flex items-center'
      >
        <div class='w-full'>
          <div
            class='absolute -top-10 right-0 p-2 rounded-full bg-red-500 text-white shadow-lg shadow-red-500/40 animate-shake hidden group-[.revealed]:block'
          >
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='20'
              height='20'
              viewBox='0 0 24 24'
              fill='none'
              stroke='currentColor'
              stroke-width='3'
              stroke-linecap='round'
              stroke-linejoin='round'
              class='lucide lucide-triangle-alert'
              ><path
                d='m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z'
              ></path><path d='M12 9v4'></path><path d='M12 17h.01'></path></svg
            >
          </div>

          <div
            class='flex items-center gap-3 text-sm text-red-300 p-3 rounded-xl bg-red-500/20 border border-red-500/30 backdrop-blur-md'
          >
            <span class='text-lg'>⚠️</span>
            <span class='font-medium'>Aneh! Terasa kaku & "salah".</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function initLAD() {
    const cards = document.querySelectorAll('.lad-card');
    const reactionBlock = document.querySelector('.lad-reaction');
    const isCompleted =
      localStorage.getItem('lad-quiz-completed-v2') === 'true';

    if (isCompleted) {
      revealAll(false);
    } else {
      cards.forEach(card => {
        card.addEventListener('click', () => {
          revealAll(true);
          localStorage.setItem('lad-quiz-completed-v2', 'true');
        });
      });
    }

    function revealAll(animate: boolean) {
      // Reveal specific card states
      cards.forEach(c => {
        const card = c as HTMLElement;
        const type = card.getAttribute('data-type');

        // Common revealed state
        card.classList.add('revealed');
        card.classList.remove(
          'hover:bg-white/10',
          'hover:scale-[1.02]',
          'active:scale-95',
          'cursor-pointer'
        );

        // Specific styling based on type
        if (type === 'natural') {
          card.classList.add(
            'border-emerald-500',
            'bg-emerald-500/5',
            'shadow-[0_0_30px_-5px_rgba(16,185,129,0.2)]'
          );
        } else if (type === 'glitch') {
          card.classList.add(
            'border-red-500',
            'bg-red-500/5',
            'shadow-[0_0_30px_-5px_rgba(239,68,68,0.2)]'
          );
        }
      });

      // Show generic reaction text
      if (reactionBlock) {
        reactionBlock.classList.remove('hidden');
        // Small delay to allow display:block to apply before opacity transition
        setTimeout(() => {
          reactionBlock.classList.remove('opacity-0');
          reactionBlock.classList.add('opacity-100');
        }, 100);
      }
    }
  }

  document.addEventListener('astro:page-load', initLAD);
  document.addEventListener('DOMContentLoaded', initLAD);
</script>
