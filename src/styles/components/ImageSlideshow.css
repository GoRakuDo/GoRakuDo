/* Import Tailwind CSS v4 */
@import 'tailwindcss';

/* Mobile-optimized slideshow styles */
.slideshow-container {
  /* Responsive container */
  width: 100%;
  max-width: 64rem; /* max-w-4xl */

  /* Optimize touch handling */
  touch-action: manipulation;
}

/* Mobile - 480px and below */
@media (max-width: 480px) {
  .slideshow-container {
    margin: 0 1rem;
  }

  /* Navigation dots above slideshow for mobile */
  .dot {
    min-width: 0.75rem; /* Touch-friendly size */
    min-height: 0.75rem;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.4); /* Stronger shadow for visibility */
  }
}

/* Tablet - 768px */
@media (max-width: 768px) {
  .slideshow-container {
    margin: 0 1.5rem;
  }
}

/* Desktop - 1024px and up */
@media (min-width: 1024px) {
  .slideshow-container {
    max-width: 72rem; /* max-w-5xl */
  }
}

/* Smooth transitions */
.slide {
  transition: opacity 0.5s ease-in-out;
}

/* ========== PROGRESS BAR - ALWAYS VISIBLE ========== */
.progress-bar {
  height: 100%;
  border-radius: 0;
  background-color: var(--clr-accent);

  /* FIXED: Always visible with smooth animation */
  opacity: 1; /* Always visible */
  transition: width 0.1s linear;
  transform-origin: left center;
}

/* Enhanced progress bar container */
.slideshow-container .progress-bar {
  border-radius: 0 2px 2px 0;
  box-shadow: 0 0 8px rgb(139 93 255 / 0.3);
  opacity: 0.8; /* Slightly transparent but always visible */
  transition:
    opacity 0.3s ease,
    width 0.1s linear;
}

/* Hover enhancement - makes progress bar more prominent but doesn't hide it */
@media (hover: hover) {
  .slideshow-container:hover .progress-bar {
    opacity: 1; /* Full opacity on hover, but still visible otherwise */
  }
}

/* Mobile progress bar - always fully visible */
@media (hover: none) and (pointer: coarse) {
  .slideshow-container .progress-bar {
    opacity: 1; /* Always fully visible on mobile */
  }
}

/* Base dot styles */
.dot {
  border: none; /* Remove white border */
  background-color: rgb(
    139
    93
    255 /
    0.4
  ); /* Semi-transparent purple for inactive dots */

  opacity: 1; /* Ensure dots are always visible */
  transform: scale(0.5); /* Default scale */
  transition: all 0.3s ease;
}

/* Active dot styles - matches the 'active-dot' class from Astro */
.dot.active-dot {
  border: none; /* Remove white border */
  background-color: var(
    --clr-accent
  ); /* Active dot uses bright purple */

  transform: scale(1.1); /* Active dot is larger */
  box-shadow: 0 4px 12px var(--clr-accent-shadow);
}

/* Long-press indicator styles */
.long-press-indicator {
  z-index: 10;
  backdrop-filter: blur(2px);
}

.long-press-indicator > div {
  animation: pulseGentle 2s ease-in-out infinite;
}

@keyframes pulseGentle {
  0%,
  100% {
    opacity: 0.9;
    transform: scale(1);
  }

  50% {
    opacity: 1;
    transform: scale(1.05);
  }
}

/* Touch-specific styles for mobile */
@media (hover: none) and (pointer: coarse) {
  .slideshow-container {
    /* Prevent text selection during long-press */
    user-select: none;

    /* Prevent context menu on long-press */
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
  }

  .slide {
    /* Ensure touch events work properly */
    touch-action: manipulation;

    /* Prevent text selection during touch */
    user-select: none;
  }

  .dot {
    min-width: 0.75rem;
    min-height: 0.75rem;

    /* Larger touch target for dots */
    padding: 0.25rem;
    opacity: 1 ;
  }
}

/* Hover effects - only on desktop */
@media (hover: hover) {
  .dot:hover {
    background-color: var(
      --clr-accent
    ) ; /* Hover shows bright purple */

    box-shadow: 0 4px 12px rgb(0 0 0 / 0.6);
    transform: scale(1.15);
  }

  /* Active dot hover effect */
  .dot.active-dot:hover {
    background-color: var(
      --clr-accent
    ) ; /* Active dot stays bright purple */

    box-shadow: 0 6px 16px var(--clr-accent-shadow);
    transform: scale(1.1); /* Slightly larger on hover */
  }
}

/* Fallback for browsers that don't support @media (hover: hover) */
@media (min-width: 1024px) {
  .dot:hover {
    box-shadow: 0 4px 12px rgb(0 0 0 / 0.6);
    transform: scale(1.1);
  }

  .dot.active-dot:hover {
    background-color: var(--clr-accent) ;
    box-shadow: 0 6px 16px var(--clr-accent-shadow);
    transform: scale(1.1);
  }
}

/* Mobile touch-friendly interactions */
@media (hover: none) {
  .dot {
    min-width: 0.75rem;
    min-height: 0.75rem;
    opacity: 1 ;
  }
}

/* ========== ADDITIONAL VISUAL ENHANCEMENTS ========== */

/* Progress bar container styling - merged above */

/* Smooth animation for progress bar */
@keyframes progressAnimation {
  from {
    width: 0%;
  }

  to {
    width: 100%;
  }
}

/* Animation class for smoother progress */
.progress-bar.animating {
  animation: progressAnimation var(--animation-duration, 5s) linear;
}
