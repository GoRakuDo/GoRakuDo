/* CONTENT PAGE STYLES - Generalized version */
/* Custom styles that cannot be handled by Tailwind Typography */
/* Replaces [slug].css with more generalized content page styling */

@import './global.css';
@import './docs/word-internal-links.css';

/* ========== TAILWIND V5 THEME INTEGRATION ========== */
@theme {
  /* Content page design tokens */
  --color-content-background: rgba(15, 15, 25, 0.95);
  --color-content-title: rgba(255, 255, 255, 0.95);
  --color-content-text: rgba(255, 255, 255, 0.85);
  --color-content-meta: rgba(255, 255, 255, 0.7);
  --color-content-border: rgba(139, 93, 255, 0.15);
  --color-content-accent: var(--color-accent-purple);

  /* Shadows */
  --shadow-card: 0 4px 20px rgba(0, 0, 0, 0.3);
  --shadow-card-hover: 0 8px 30px rgba(139, 93, 255, 0.2);

  /* Z-index system */
  --z-content-background: 0;
  --z-content-main: 1;
  --z-content-progress: 50;
  --z-content-modal: 100;
}

/* ========== CONTENT PAGE LAYOUT ========== */

.content-page {
  @apply min-h-screen w-full relative z-[var(--z-content-main)] m-0;
  @apply bg-[rgba(15,15,25,0.5)] bg-[length:30px_30px];
  @apply pt-20 pb-8 backdrop-blur-[1px];
  @apply md:pt-16 md:pb-6;
  @apply max-sm:pt-12 max-sm:pb-4;
}

.content-container {
  @apply !max-w-4xl !pt-8 !px-2 !pb-0 !box-border;
  @apply !w-[calc(100%-2rem)];
  @apply md:!pt-6 md:!px-3;
  @apply max-sm:!pt-4 max-sm:!px-2;
}

/* ========== TOC LAYOUT SUPPORT ========== */
.content-wrapper {
  @apply flex gap-3 px-2;
  @apply sm:gap-4 sm:px-3;
  @apply md:gap-5 md:px-4;
  @apply lg:gap-6 lg:px-5;
  @apply xl:!gap-8 xl:!px-6;
  @apply 2xl:!gap-8 2xl:!px-6;
}

.content-wrapper .content-container {
  @apply !flex-1 !min-w-0 !max-w-none !p-3;
  @apply sm:!p-4;
  @apply md:!p-6;
  @apply lg:!p-7;
  @apply xl:!p-8;
  @apply 2xl:!p-10 2xl:!max-w-4xl;
}

/* ========== BREADCRUMB ========== */
/* These styles are needed for the breadcrumb component */
.breadcrumb-nav {
  @apply !bg-transparent !backdrop-filter-none !border-none !shadow-none;
}

.content-container .modern-breadcrumb-nav {
  @apply !w-full max-w-full m-0 p-0 overflow-hidden;
}

.content-container .breadcrumb-container {
  @apply w-full max-w-full overflow-hidden relative;
}

.content-container .breadcrumb-list {
  @apply w-full max-w-full overflow-x-auto overflow-y-hidden p-0 m-0;
}

.content-container .breadcrumb-item {
  @apply flex-shrink-0 max-w-fit gap-1 items-center;
}

.content-container .breadcrumb-icon {
  @apply flex-shrink-0 text-base leading-none;
}

.content-container .breadcrumb-separator {
  @apply flex-shrink-0 mx-1;
}

/* ========== BUTTONS ========== */
/* Shared styles for navigation and share buttons */
.back-to-content,
.back-to-docs,
.back-to-tools,
.share-btn {
  @apply inline-flex items-center gap-2 no-underline mb-0 outline-none h-10 box-border whitespace-nowrap;
  @apply text-sm font-medium text-[var(--color-primary)];
  @apply bg-[rgba(139,93,255,0.1)] px-4 py-2 rounded-lg;
  @apply border border-[rgba(139,93,255,0.2)];
  @apply transition-all duration-300 ease-in-out;
  @apply hover:text-[var(--color-accent-purple-dark)] hover:bg-[rgba(139,93,255,0.15)];
  @apply hover:border-[rgba(139,93,255,0.3)] hover:-translate-y-px;
  @apply hover:shadow-[0_4px_12px_rgba(139,93,255,0.2)];
  @apply focus-visible:outline-2 focus-visible:outline-[#8b5dff] focus-visible:outline-offset-2;
  @apply focus-visible:shadow-[0_0_0_2px_rgba(139,93,255,0.3)];
  @apply max-[480px]:px-3 max-[480px]:py-1.5 max-[480px]:text-[0.8rem] max-[480px]:h-9;
}

/* ========== CONTENT HEADER ========== */
.content-header {
  @apply text-center mx-2 my-8 p-6 rounded-2xl min-h-60;
  @apply border border-[var(--color-content-border)];
  @apply bg-[rgba(30,30,40,0.1)] backdrop-blur-[5px];
  @apply shadow-[var(--shadow-card)];
  @apply flex flex-col justify-center items-center;
  @apply md:mx-1 md:my-6 md:p-5 md:min-h-50;
  @apply max-sm:mx-0 max-sm:my-4 max-sm:p-4 max-sm:min-h-40;
}

.content-header h1 {
  @apply text-3xl font-bold mb-4 text-white leading-tight;
  @apply md:text-2xl;
  @apply max-sm:text-xl max-sm:mb-3;
}

/* Content Meta */
.content-meta {
  @apply flex items-center justify-center gap-5 mb-3 text-sm flex-wrap;
  @apply text-[var(--color-content-meta)];
  @apply max-sm:gap-3 max-sm:text-[0.8rem];
}

.content-date,
.content-author,
.content-read-time {
  @apply text-[var(--color-content-meta)];
}

/* Legacy support for existing selectors */
.post-header {
  @apply text-center mx-2 my-8 p-6 rounded-2xl min-h-60;
  @apply border border-[var(--color-content-border)];
  @apply bg-[rgba(30,30,40,0.1)] backdrop-blur-[5px];
  @apply shadow-[var(--shadow-card)];
  @apply flex flex-col justify-center items-center;
  @apply md:mx-1 md:my-6 md:p-5 md:min-h-50;
  @apply max-sm:mx-0 max-sm:my-4 max-sm:p-4 max-sm:min-h-40;
}

.post-meta {
  @apply flex items-center justify-center gap-5 mb-3 text-sm flex-wrap;
  @apply text-[var(--color-content-meta)];
  @apply max-sm:gap-3 max-sm:text-[0.8rem];
}

.post-date {
  @apply text-[var(--color-content-meta)];
}

.post-author {
  @apply text-[var(--color-content-meta)];
}

.post-read-time {
  @apply text-[var(--color-content-meta)];
}

.post-title {
  @apply text-inherit;
}

/* ========== DIFFICULTY BADGE ========== */
/* This is a custom component that cannot be handled by Tailwind Typography */
.content-tags {
  @apply flex items-center justify-center gap-3;
}

.difficulty-badge {
  @apply py-1.5 px-3 rounded-full text-xs font-semibold inline-block mx-auto text-center;
}

.difficulty-badge.difficulty-beginner {
  @apply bg-[rgba(34,197,94,0.2)] text-green-300 border border-[rgba(34,197,94,0.3)];
}

.difficulty-badge.difficulty-intermediate {
  @apply bg-[rgba(234,179,8,0.2)] text-yellow-300 border border-[rgba(234,179,8,0.3)];
}

.difficulty-badge.difficulty-advanced {
  @apply bg-[rgba(239,68,68,0.2)] text-red-300 border border-[rgba(239,68,68,0.3)];
}

/* Legacy support */
.post-tags {
  @apply flex items-center justify-center gap-3;
}

/* ========== CONTENT MAIN ========== */
/* Only keep custom styles that cannot be handled by Tailwind Typography */
.content-main {
  @apply p-6 px-4 max-w-none bg-transparent rounded-lg w-full relative block;
  @apply text-[var(--color-content-text)];
  @apply md:p-5 md:px-3;
  @apply max-sm:p-4 max-sm:px-2;
}

/* Fix paragraph spacing in content */
.content-main p {
  @apply mb-4 leading-relaxed;
}

.content-main p:last-child {
  @apply mb-0;
}

/* Custom styles that can't be handled by prose */
.content-main :where(h1, h2, h3, h4, h5) {
  @apply scroll-mt-8;
}

.content-main h1 {
  @apply pb-2;
}

.content-main h2 {
  @apply relative py-2;
}

.content-main h3 {
  @apply py-2;
}

.content-main h4 {
  @apply pb-2;
}

.content-main h2::before {
  content: '';
  position: absolute;
  left: -1rem;
  top: 55%;
  width: 4px;
  height: 1.25rem;
  border-radius: 2px;
  background: linear-gradient(
    135deg,
    var(--color-primary),
    var(--color-primary-dark)
  );
  transform: translateY(-50%);
}

.content-main ul {
  @apply my-2;
}

.content-main hr {
  @apply my-4;
}

.content-main ul li {
  @apply relative pl-6 list-none;
}

.content-main ul li::before {
  content: 'ã€†';
  color: var(--color-primary);
  font-weight: 900;
  position: absolute;
  left: 0;
  top: 0.2rem;
}

/* Legacy support for existing post-content selector */
.post-content {
  @apply p-6 px-4 max-w-none bg-transparent rounded-lg w-full relative block;
  @apply text-[var(--color-content-text)];
  @apply md:p-5 md:px-3;
  @apply max-sm:p-4 max-sm:px-2;
}

/* ========== CONTENT ACTIONS ========== */
.content-actions {
  @apply flex flex-col justify-between items-center gap-4 p-6 my-8 rounded-2xl;
  @apply border border-[var(--color-content-border)];
  @apply bg-[rgba(30,30,40,0.2)] backdrop-blur-[2px];
  @apply shadow-[var(--shadow-card)];
  @apply sm:flex-row;
  @apply md:my-6 md:p-5;
  @apply max-sm:my-4 max-sm:p-4 max-sm:gap-3;
}

.action-buttons {
  @apply flex items-center gap-4 w-full justify-between;
  @apply max-sm:flex-col max-sm:gap-3;
  @apply max-[480px]:gap-2;
}

.share-buttons {
  @apply flex gap-3 items-center;
  @apply max-[480px]:gap-2;
}

/* Legacy support */
.post-actions {
  @apply flex flex-col justify-between items-center gap-4 p-6 my-8 rounded-2xl;
  @apply border border-[var(--color-content-border)];
  @apply bg-[rgba(30,30,40,0.2)] backdrop-blur-[2px];
  @apply shadow-[var(--shadow-card)];
  @apply sm:flex-row;
  @apply md:my-6 md:p-5;
  @apply max-sm:my-4 max-sm:p-4 max-sm:gap-3;
}

/* ========== READING PROGRESS ========== */
.reading-progress {
  @apply fixed top-0 left-0 w-0 h-[3px] z-[var(--z-content-progress)];
  @apply transition-[width] duration-100 ease-linear;
  background: linear-gradient(
    90deg,
    var(--color-primary),
    var(--color-primary-dark)
  );
}

/* ========== ACCESSIBILITY ========== */
@media (prefers-reduced-motion: reduce) {
  .back-to-content,
  .back-to-docs,
  .back-to-tools,
  .share-btn,
  .reading-progress,
  .internal-link,
  .internal-link::before {
    transition: none !important;
    animation: none !important;
  }
}

/* ========== HIGH CONTRAST MODE ========== */
@media (prefers-contrast: high) {
  .content-header,
  .content-actions,
  .post-header,
  .post-actions {
    border: 2px solid #6b7280;
  }

  .back-to-content,
  .back-to-docs,
  .back-to-tools,
  .share-btn {
    border: 2px solid var(--color-primary);
  }

  .content-main :where(h1, h2, h3, h4, h5),
  .post-content :where(h1, h2, h3, h4, h5) {
    color: rgba(255, 255, 255, 1);
  }

  .content-main :where(p, li, blockquote),
  .post-content :where(p, li, blockquote) {
    color: rgba(255, 255, 255, 1);
  }

  .content-meta,
  .content-date,
  .content-author,
  .content-read-time,
  .post-meta,
  .post-date,
  .post-author,
  .post-read-time {
    color: rgba(255, 255, 255, 0.95);
  }
}

body {
  background: #1e1e28;
}

code {
  background: none !important;
  padding: 0 !important;
}

pre {
  background: none !important;
  padding: 1rem !important;
  margin: 1rem 0 !important;
  border-radius: 0.5rem !important;
  border: 1px solid rgba(139, 93, 255, 0.15) !important;
  box-shadow: var(--shadow-card) !important;
}
