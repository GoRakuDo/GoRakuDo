/* Import Tailwind CSS v4 */
@import 'tailwindcss';

/* Mobile-optimized slideshow styles */
.slideshow-container {
  /* Responsive container */
  width: 100%;
  max-width: 64rem; /* max-w-4xl */
  /* Optimize touch handling */
  touch-action: manipulation;
}

/* Mobile - 480px and below */
@media (max-width: 480px) {
  .slideshow-container {
    margin: 0 1rem;
  }

  /* Navigation dots above slideshow for mobile */
  .dot {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4); /* Stronger shadow for visibility */
    min-width: 0.75rem; /* Touch-friendly size */
    min-height: 0.75rem;
  }
}

/* Tablet - 768px */
@media (max-width: 768px) {
  .slideshow-container {
    margin: 0 1.5rem;
  }
}

/* Desktop - 1024px and up */
@media (min-width: 1024px) {
  .slideshow-container {
    max-width: 72rem; /* max-w-5xl */
  }
}

/* Smooth transitions */
.slide {
  transition: opacity 0.5s ease-in-out;
}

/* ========== PROGRESS BAR - ALWAYS VISIBLE ========== */
.progress-bar {
  /* FIXED: Always visible with smooth animation */
  opacity: 1 !important; /* Always visible */
  transition: width 0.1s linear;
  background-color: var(--color-accent-purple) !important;
  height: 100% !important;
  border-radius: 0 !important;
  transform-origin: left center;
}

/* Enhanced progress bar container */
.slideshow-container .progress-bar {
  opacity: 0.8; /* Slightly transparent but always visible */
  transition:
    opacity 0.3s ease,
    width 0.1s linear;
}

/* Hover enhancement - makes progress bar more prominent but doesn't hide it */
@media (hover: hover) {
  .slideshow-container:hover .progress-bar {
    opacity: 1; /* Full opacity on hover, but still visible otherwise */
  }
}

/* Mobile progress bar - always fully visible */
@media (hover: none) and (pointer: coarse) {
  .slideshow-container .progress-bar {
    opacity: 1 !important; /* Always fully visible on mobile */
  }
}

/* Base dot styles */
.dot {
  transition: all 0.3s ease;
  opacity: 1 !important; /* Ensure dots are always visible */
  background-color: rgba(
    139,
    93,
    255,
    0.4
  ) !important; /* Semi-transparent purple for inactive dots */
  transform: scale(0.5); /* Default scale */
  border: none !important; /* Remove white border */
}

/* Active dot styles - matches the 'active-dot' class from Astro */
.dot.active-dot {
  background-color: var(
    --color-accent-purple
  ) !important; /* Active dot uses bright purple */
  box-shadow: 0 4px 12px var(--color-accent-shadow);
  border: none !important; /* Remove white border */
  transform: scale(1.1); /* Active dot is larger */
}

/* Long-press indicator styles */
.long-press-indicator {
  z-index: 10;
  backdrop-filter: blur(2px);
}

.long-press-indicator > div {
  animation: pulse-gentle 2s ease-in-out infinite;
}

@keyframes pulse-gentle {
  0%,
  100% {
    transform: scale(1);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

/* Touch-specific styles for mobile */
@media (hover: none) and (pointer: coarse) {
  .slideshow-container {
    /* Prevent text selection during long-press */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

    /* Prevent context menu on long-press */
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
  }

  .slide {
    /* Ensure touch events work properly */
    touch-action: manipulation;
    /* Prevent text selection during touch */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  .dot {
    min-width: 0.75rem;
    min-height: 0.75rem;
    opacity: 1 !important;
    /* Larger touch target for dots */
    padding: 0.25rem;
  }
}

/* Hover effects - only on desktop */
@media (hover: hover) {
  .dot:hover {
    transform: scale(1.15);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
    background-color: var(
      --color-accent-purple
    ) !important; /* Hover shows bright purple */
  }

  /* Active dot hover effect */
  .dot.active-dot:hover {
    background-color: var(
      --color-accent-purple
    ) !important; /* Active dot stays bright purple */
    box-shadow: 0 6px 16px var(--color-accent-shadow);
    transform: scale(1.1); /* Slightly larger on hover */
  }
}

/* Fallback for browsers that don't support @media (hover: hover) */
@media (min-width: 1024px) {
  .dot:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
  }

  .dot.active-dot:hover {
    background-color: var(--color-accent-purple) !important;
    box-shadow: 0 6px 16px var(--color-accent-shadow);
    transform: scale(1.1);
  }
}

/* Mobile touch-friendly interactions */
@media (hover: none) {
  .dot {
    min-width: 0.75rem;
    min-height: 0.75rem;
    opacity: 1 !important;
  }
}

/* ========== ADDITIONAL VISUAL ENHANCEMENTS ========== */

/* Progress bar container styling */
.slideshow-container .progress-bar {
  box-shadow: 0 0 8px rgba(139, 93, 255, 0.3);
  border-radius: 0 2px 2px 0;
}

/* Smooth animation for progress bar */
@keyframes progressAnimation {
  from {
    width: 0%;
  }
  to {
    width: 100%;
  }
}

/* Animation class for smoother progress */
.progress-bar.animating {
  animation: progressAnimation var(--animation-duration, 5s) linear;
}
