@import url('https://tetunori.github.io/fluent-emoji-webfont/dist/FluentEmojiColor.css');
@import 'tailwindcss';
@import './fonts.css';

@plugin '@tailwindcss/typography';

:root {
  /* ===== DESIGN TOKENS & CSS VARIABLES ===== */
  color-scheme: dark !important;

  /* ===== CORE COLOR TOKENS - FREQUENTLY USED VALUES ===== */

  /* Base color values - used 3+ times */
  --token-white-base: oklch(95% 0.005 285deg);
  --token-black-base: oklch(20% 0.005 285deg);
  --token-purple-base: oklch(65% 0.25 280deg);
  --token-gold-base: oklch(75% 0.12 85deg);
  --token-secondary-gold-base: oklch(75% 0.12 65deg);

  /* Background color tokens - used 3+ times */
  --token-bg-dark: oklch(5% 0 0deg);
  --token-bg-content: oklch(8% 0.01 270deg);
  --token-bg-card: oklch(20% 0.01 270deg);
  --token-bg-input: oklch(15% 0.008 270deg);

  /* Text color tokens - used 3+ times */
  --token-text-secondary: oklch(80% 0 0deg);
  --token-text-muted: oklch(67% 0 0deg);
  --token-text-global-secondary: oklch(88% 0 0deg);
  --token-text-global-muted: oklch(70% 0 0deg);

  /* Accent color tokens - used 3+ times */
  --token-accent-dark: oklch(60% 0.25 280deg);
  --token-accent-foreground: oklch(98% 0.002 270deg);
  --token-secondary-foreground: oklch(15% 0.005 270deg);

  /* ===== OPACITY VALUES - GLOBAL CALCULATION-BASED SYSTEM ===== */
  --opacity-step: 0.05; /* 基本ステップ */
  --opacity-step-small: 0.02; /* 小さなステップ */
  --opacity-step-large: 0.1; /* 大きなステップ */

  /* 計算可能な不透明度値 - 実際に使用されている変数 */
  --opacity-02: var(--opacity-step-small); /* 0.02 */
  --opacity-04: calc(var(--opacity-step-small) * 2); /* 0.04 */
  --opacity-05: var(--opacity-step); /* 0.05 */
  --opacity-06: calc(var(--opacity-step) * 1.2); /* 0.06 */
  --opacity-08: calc(var(--opacity-step-small) * 4); /* 0.08 */
  --opacity-10: calc(var(--opacity-step) * 2); /* 0.1 */
  --opacity-12: calc(var(--opacity-step-small) * 6); /* 0.12 */
  --opacity-15: calc(var(--opacity-step) * 3); /* 0.15 */
  --opacity-20: calc(var(--opacity-step) * 4); /* 0.2 */
  --opacity-25: calc(var(--opacity-step) * 5); /* 0.25 */
  --opacity-30: calc(var(--opacity-step) * 6); /* 0.3 */
  --opacity-35: calc(var(--opacity-step) * 7); /* 0.35 */
  --opacity-40: calc(var(--opacity-step) * 8); /* 0.4 */
  --opacity-50: calc(var(--opacity-step-large) * 5); /* 0.5 */
  --opacity-60: calc(var(--opacity-step) * 12); /* 0.6 */
  --opacity-70: calc(var(--opacity-step) * 14); /* 0.7 */
  --opacity-80: calc(var(--opacity-step) * 16); /* 0.8 */
  --opacity-85: calc(var(--opacity-step) * 17); /* 0.85 */
  --opacity-90: calc(var(--opacity-step) * 18); /* 0.9 */
  --opacity-95: calc(var(--opacity-step) * 19); /* 0.95 */
  --opacity-98: calc(var(--opacity-step) * 19.6); /* 0.98 */

  /* 互換性のためのエイリアス */
  --opacity-1: var(--opacity-10); /* 0.1 */
  --opacity-2: var(--opacity-20); /* 0.2 */
  --opacity-3: var(--opacity-30); /* 0.3 */
  --opacity-4: var(--opacity-40); /* 0.4 */
  --opacity-5: var(--opacity-50); /* 0.5 */
  --opacity-6: var(--opacity-60); /* 0.6 */
  --opacity-7: var(--opacity-70); /* 0.7 */
  --opacity-8: var(--opacity-80); /* 0.8 */
  --opacity-9: var(--opacity-90); /* 0.9 */

  /* ===== COLOR SYSTEM - OKLCH Color Space ===== */

  /* Black Color with Opacity */
  --clr-black: var(--token-black-base);
  --clr-black-05: oklch(from var(--token-black-base) l c h / var(--opacity-05));
  --clr-black-1: oklch(from var(--token-black-base) l c h / var(--opacity-1));
  --clr-black-15: oklch(from var(--token-black-base) l c h / var(--opacity-15));
  --clr-black-2: oklch(from var(--token-black-base) l c h / var(--opacity-2));
  --clr-black-25: oklch(from var(--token-black-base) l c h / var(--opacity-25));
  --clr-black-3: oklch(from var(--token-black-base) l c h / var(--opacity-3));
  --clr-black-85: oklch(from var(--token-black-base) l c h / var(--opacity-85));
  --clr-black-95: oklch(from var(--token-black-base) l c h / var(--opacity-95));

  /* White Color with Opacity */
  --clr-white: var(--token-white-base);
  --clr-white-02: oklch(from var(--token-white-base) l c h / var(--opacity-02));
  --clr-white-04: oklch(from var(--token-white-base) l c h / var(--opacity-04));
  --clr-white-06: oklch(from var(--token-white-base) l c h / var(--opacity-06));
  --clr-white-08: oklch(from var(--token-white-base) l c h / var(--opacity-08));
  --clr-white-1: oklch(from var(--token-white-base) l c h / var(--opacity-1));
  --clr-white-12: oklch(from var(--token-white-base) l c h / var(--opacity-12));
  --clr-white-15: oklch(from var(--token-white-base) l c h / var(--opacity-15));
  --clr-white-2: oklch(from var(--token-white-base) l c h / var(--opacity-2));
  --clr-white-25: oklch(from var(--token-white-base) l c h / var(--opacity-25));
  --clr-white-3: oklch(from var(--token-white-base) l c h / var(--opacity-3));
  --clr-white-7: oklch(from var(--token-white-base) l c h / var(--opacity-7));
  --clr-white-85: oklch(from var(--token-white-base) l c h / var(--opacity-85));
  --clr-white-95: oklch(from var(--token-white-base) l c h / var(--opacity-95));

  /* Purple Color with Opacity */
  --clr-purple: var(--token-purple-base);
  --clr-purple-05: oklch(
    from var(--token-purple-base) l c h / var(--opacity-05)
  );
  --clr-purple-1: oklch(from var(--token-purple-base) l c h / var(--opacity-1));
  --clr-purple-15: oklch(
    from var(--token-purple-base) l c h / var(--opacity-15)
  );
  --clr-purple-2: oklch(from var(--token-purple-base) l c h / var(--opacity-2));
  --clr-purple-3: oklch(from var(--token-purple-base) l c h / var(--opacity-3));
  --clr-purple-4: oklch(from var(--token-purple-base) l c h / var(--opacity-4));
  --clr-purple-6: oklch(from var(--token-purple-base) l c h / var(--opacity-6));

  /* Gold Color with Opacity */
  --clr-gold: var(--token-gold-base);
  --clr-gold-25: oklch(from var(--token-gold-base) l c h / var(--opacity-25));
  --clr-gold-3: oklch(from var(--token-gold-base) l c h / var(--opacity-3));
  --clr-gold-light: oklch(95% 0.08 85deg);
  --clr-gold-dark: var(--clr-gold);

  /* Secondary Gold Color with Opacity */
  --clr-secondary-gold: var(--token-secondary-gold-base);
  --clr-secondary-gold-25: oklch(
    from var(--token-secondary-gold-base) l c h / var(--opacity-25)
  );
  --clr-secondary-gold-3: oklch(
    from var(--token-secondary-gold-base) l c h / var(--opacity-3)
  );

  /* Paper Theme Colors */
  --clr-paper: oklch(97% 0.01 60deg);
  --clr-paper-25: oklch(25% 0 0deg);
  --clr-paper-35: oklch(35% 0 0deg);
  --clr-paper-88: oklch(88% 0.01 60deg);
  --clr-paper-90: oklch(90% 0.01 60deg);

  /* ===== PRIMARY COLOR SYSTEM ===== */

  --clr-background: var(--token-bg-dark);
  --clr-text-primary: var(--clr-white);
  --clr-text-secondary: var(--token-text-secondary);
  --clr-text-muted: var(--token-text-muted);
  --clr-accent: var(--clr-purple);
  --clr-accent-dark: var(--token-accent-dark);
  --clr-accent-glow-faint: var(--clr-purple-05);
  --clr-accent-glow-medium: var(--clr-purple-1);
  --clr-accent-glow-strong: var(--clr-purple-2);
  --clr-accent-shadow: var(--clr-purple-4);

  /* ===== GLOBAL TEXT COLOR SYSTEM ===== */
  --global-text-color: var(--clr-white);
  --global-text-color-primary: var(--clr-white);
  --global-text-color-secondary: var(--token-text-global-secondary);
  --global-text-color-muted: var(--token-text-global-muted);
  --global-text-color-accent: var(--clr-white);

  /* ===== FALLBACK COLORS ===== */
  --clr-background-fallback: oklch(4% 0.005 270deg);
  --clr-text-primary-fallback: var(--clr-text-primary);
  --clr-accent-fallback: var(--clr-accent);

  /* ===== GLASSMORPHISM DESIGN TOKENS ===== */
  --clr-glass-border: oklch(50% 0.02 270deg / var(--opacity-20));
  --clr-glass-background: oklch(20% 0.01 270deg / var(--opacity-10));
  --clr-glass-border-hover: oklch(50% 0.02 270deg / var(--opacity-30));
  --clr-glass-background-hover: oklch(20% 0.01 270deg / var(--opacity-15));

  /* ===== EASING FUNCTIONS - CENTRALIZED ===== */
  --ease-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.6, 1);
  --ease-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);

  /* ===== ANIMATION SYSTEM ===== */
  --transition-smooth: 0.3s var(--ease-out);
  --transition-fast: 0.2s var(--ease-out);
  --transition-speed: 0.3s;
  --transition-bg: 0.3s var(--ease-out);
  --transition-shadow: 0.3s var(--ease-out);
  --transition-transform: 0.3s var(--ease-out);
  --transition-opacity: 0.2s var(--ease-out);
  --transition-border: 0.3s var(--ease-out);
  --animate-duration-fast: 150ms;
  --animate-duration-normal: 300ms;
  --animate-duration-slow: 500ms;
  --animate-duration-slower: 700ms;

  /* ===== HOVER EFFECTS ===== */
  --hover-lift: translateY(-2px);
  --hover-lift-small: translateY(-1px);
  --hover-lift-enhanced: translateY(-3px);
  --hover-scale: scale(1.02);
  --hover-scale-enhanced: scale(1.02);

  /* ===== SHADOW SYSTEM ===== */
  --shadow-hover: 0 8px 25px var(--clr-black-2), 0 4px 12px var(--clr-black-15);
  --shadow-base: 0 2px 8px var(--clr-black-1);
  --shadow-active: 0 1px 4px var(--clr-black-2);

  /* ===== LEGACY COMPATIBILITY ===== */
  --clr-gold-dark-transparent: var(--clr-gold-25);
  --clr-paper-bg: var(--clr-paper);
  --clr-paper-text-primary: var(--clr-paper-25);
  --clr-paper-text-secondary: var(--clr-paper-35);
  --clr-paper-border: var(--clr-paper-90);
  --clr-paper-lines: var(--clr-paper-88);

  /* ===== TYPOGRAPHY SYSTEM - CENTRALIZED FONT DEFINITIONS ===== */

  /* Primary fonts - Roboto for Latin, Noto for Japanese (auto via unicode-range) */
  --font-primary:
    'Roboto Flex Variable', 'Roboto Flex', 'Noto Sans JP', 'Fluent Emoji Color',
    system-ui, -apple-system, blinkmacsystemfont, 'Segoe UI', roboto,
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
  --font-sans:
    'Roboto Flex Variable', 'Roboto Flex', 'Noto Sans JP', 'Fluent Emoji Color',
    system-ui, -apple-system, blinkmacsystemfont, 'Segoe UI', roboto,
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
  --font-serif:
    'Roboto Serif Variable', 'Roboto Serif', 'Noto Serif JP', 'Lora',
    'Times New Roman', times, serif;
  --font-heading:
    'Roboto Serif Variable', 'Roboto Serif', 'Noto Serif JP', 'Lora',
    'Times New Roman', times, serif;

  /* Japanese fonts - Auto-detection via unicode-range */
  --font-jp: 'Noto Sans JP', 'Hiragino Sans', 'Yu Gothic', 'Meiryo', sans-serif;
  --font-jp-serif: 'Noto Serif JP', 'Hiragino Mincho', 'Yu Mincho', serif;
  --font-jp-logo: 'Yuji Syuku', 'Noto Serif JP', serif; /* For logo "語楽道" */

  /* Monospace fonts */
  --font-code: 'Fira Code', 'Courier New', monospace;
  --font-mono: 'SF Mono', monaco, consolas, 'Courier New', monospace;

  /* Decorative fonts */
  --font-cursive: 'Cedarville Cursive', cursive;
  --font-emoji: 'Fluent Emoji Color', 'Apple Color Emoji', sans-serif;

  /* Compatibility aliases */
  --font-family-base: var(--font-primary);

  /* ===== ORPHAN PREVENTION SYSTEM - TAILWIND TYPOGRAPHY INTEGRATED ===== */
  --orphan-min-words: 3; /* 最小単語数でOrphanを防ぐ */
  --orphan-line-height: 1.6; /* 行間調整でOrphanを防ぐ */
  --orphan-word-spacing: 0.05em; /* 単語間隔調整 */

  /* Responsive Orphan Prevention Variables */
  --orphan-mobile-min-words: 2; /* モバイル用最小単語数 */
  --orphan-desktop-min-words: 4; /* デスクトップ用最小単語数 */
  --orphan-mobile-line-height: 1.6; /* モバイル用行間 */
  --orphan-desktop-line-height: 1.7; /* デスクトップ用行間 */

  /* ===== SPACING & BORDERS ===== */
  --section-padding-y: clamp(80px, 10vw, 120px);
  --border-radius-pill: 35px;
  --border-radius-card: 20px;
  --border-radius-btn-small: 25px;
  --border-radius-lg: 12px;
  --border-radius-md: 8px;
  --border-radius-sm: 4px;

  /* ===== ACCESSIBILITY & TOUCH TARGETS ===== */
  --touch-target-min: 44px;
  --touch-target-padding: calc((var(--touch-target-min) - 1.5rem) / 2);

  /* ===== SAFE AREA INSETS ===== */
  --safe-area-top: env(safe-area-inset-top, 0);
  --safe-area-bottom: env(safe-area-inset-bottom, 0);
  --safe-area-left: env(safe-area-inset-left, 0);
  --safe-area-right: env(safe-area-inset-right, 0);

  /* ===== BOTTOM NAVIGATION BAR ===== */
  --bottom-nav-height: 88px;
  --bottom-nav-height-small: 80px;
  --bottom-nav-spacing: calc(
    var(--bottom-nav-height) + var(--safe-area-bottom)
  );
  --bottom-nav-spacing-small: calc(
    var(--bottom-nav-height-small) + var(--safe-area-bottom)
  );

  /* ===== OPTIMIZATION FLAGS ===== */
  --localhost-optimization: true;
  --oklch-cache: true;
  --oklch-gpu-acceleration: true;

  /* ===== CONTENT PAGE SYSTEM ===== */
  --clr-content-background: oklch(
    from var(--token-bg-content) l c h / var(--opacity-95)
  );
  --clr-content-background-light: oklch(
    from var(--token-bg-content) l c h / var(--opacity-5)
  );
  --clr-content-title: var(--clr-white-95);
  --clr-content-text: var(--clr-white-85);
  --clr-content-meta: var(--clr-white-7);
  --clr-content-accent: var(--clr-accent);
  --clr-content-background-card: oklch(
    from var(--token-bg-card) l c h / var(--opacity-10)
  );
  --clr-content-background-card-hover: oklch(
    from var(--token-bg-card) l c h / var(--opacity-20)
  );
  --clr-content-border: var(--clr-purple-15);
  --shadow-content-card: 0 4px 20px var(--clr-black-3);
  --shadow-content-card-hover: 0 8px 30px var(--clr-purple-2);

  /* ===== Z-INDEX SYSTEM ===== */
  --z-content-background: -10;
  --z-content-main: 1;
  --z-content-progress: 50;
  --z-content-modal: 100;

  /* Z-index scale */
  --z-base: 0;
  --z-docked: 10;
  --z-banner: 1200;
  --z-overlay: 1300;
  --z-toast: 1500;
  --z-WaveAnimation-transparent-layer: -50;
  --z-WaveAnimation-wave-animation-container: -75;
  --z-WaveAnimation-wave-canvas: -60;
  --z-SearchPopover-search-popover: 1000;
  --z-SearchPopover-search-result-card-Hover: 10;
  --z-SearchPopover-search-result-card-focus-visible: 10;
  --z-SearchPopover-search-result-content: 1;
  --z-BottomNavBar-bottom-nav: 1200;
  --z-Navbar-navbar: 1000;
  --z-FAQ-faq-item-before: 1;
  --z-FAQ-faq-button: 2;
  --z-FAQ-faq-answer: 2;
  --z-TableOfContents-toc-container: 10;
  --z-TableOfContents-toc-toggle-after: 1000;
  --z-Tool-IdArticle-card-link: 1;
  --z-card-link-before: -1;
  --z-Tool-IdArticle-card-link-focus-visible: 1000;
  --z-Tool-IdHeader-header-content-section: 1;
  --z-Tool-IdHeader-header-bg: -1;
  --z-Tools-Header-tools-header-bg: -1;
  --z-Tools-Header-tools-header-content: 1;
  --z-index-error-content: 2;
  --z-index-floating-particle: -1;
  --z-ImageSlideshow-long-press-indicator: 10;
  --z-homepage-main-content-section: 20;
  --z-docs-index-post-card-hover: 10;
  --z-docs-index-post-emoji: 15;
  --z-docs-index-post-title: 5;
  --z-docs-index-post-meta: 5;
  --z-docs-index-post-description: 5;
  --z-docs-index-post-tags: 5;
  --z-docs-index-read-more-btn: 5;
  --z-search-index-category-item-before: -1;
  --z-search-index-tag-item-before: -1;
  --z-Tool-IdIndex-tool-main-content: 1;
  --z-Tool-IdIndex-tool-main-content-before: -1;
  --z-Tool-IdIndex-tarticle-progress: 1000;
}

/* ========== BASE LAYER - FOUNDATIONAL STYLES ========== */
@layer base {
  /* 
   * REASONING: Enhanced base styles while preserving legacy component compatibility
   * CHANGE: Added modern features while maintaining legacy layout patterns
   * CRITICAL: Critical styles moved from @layer critical for Tailwind compatibility
   */

  /* Critical styles - moved from @layer critical */
  html {
    scrollbar-gutter: stable; /* Prevent content shifting when scrollbar appears */
    font-family: var(--font-primary) !important;

    /* REASONING: Legacy used 16px, keeping it for compatibility but with modern optimizations */
    font-display: swap; /* Prevent layout shift during font loading */
    scroll-behavior: smooth !important;
    text-rendering: optimizeSpeed !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;

    /* REASONING: Optimized font stack with Inter as primary to prevent layout shift */
    font-size: 1rem; /* Base font size (Respecting the user's font size preference) for REM calculations */
    font-weight: 400;
    text-wrap: pretty !important;

    /* WebKit tap highlight - apply globally once */
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
  }

  body {
    flex-direction: column;
    background-color: var(--token-black-base);
    color: var(--token-white-base);
    font-family: var(--font-primary) !important;
    line-height: var(--orphan-line-height); /* Orphan prevention */
    letter-spacing: -0.01em; /* Slightly tighter for modern feel */
    word-spacing: var(--orphan-word-spacing) !important; /* Orphan prevention */

    /* padding-top: 80px; Navbar height compensation */
  }

  /* REASONING: Preserving legacy layout structure */
  .root,
  .app,
  main {
    display: flex;
    flex-direction: column; /* Modern viewport units for mobile */
    min-height: 100dvh; /* Dynamic viewport height for mobile */
  }

  /* Main content structure - preserved from legacy */
  .main-content {
    position: relative;
    z-index: 1;
    min-height: 100dvh; /* Dynamic viewport height for mobile */
  }

  /* --- Reusable Components & Transitions --- */
  .primary-button,
  .secondary-button,
  .docs-button,
  .get-started-btn,
  .nav-item,
  .feature-card,
  .discord-link {
    transition:
      transform var(--transition-speed) ease,
      background-color var(--transition-speed) ease,
      border-color var(--transition-speed) ease,
      box-shadow var(--transition-speed) ease,
      color var(--transition-speed) ease;
  }

  /* Hover effects only for devices with hover capability */
  @media (hover: hover) {
    .primary-button:hover,
    .secondary-button:hover,
    .docs-button:hover,
    .get-started-btn:hover,
    .discord-link:hover {
      transform: translateY(-3px);
    }

    .feature-card:hover {
      border-color: var(--clr-accent-glow-strong);
      box-shadow: 0 10px 30px var(--clr-accent-glow-medium);
      transform: translateY(-5px);
    }
  }

  /* Legacy button base styles - preserved exactly */

  /* CTA button styles moved to CtaButton.astro component */

  /* Loading states - optimized to prevent layout shift */
  .loading {
    /* Prevent layout shift by maintaining minimum height */
    min-height: 400px;
    opacity: 0;
    transform: translateY(10px);
    transition:
      opacity 0.6s ease-out,
      transform 0.6s ease-out;
  }

  /* Loaded state - smooth reveal */
  .loading.loaded {
    min-height: auto;
    opacity: 1;
    transform: translateY(0);
  }

  /* Section-specific loading states with proper height allocation */
  .mission-section.loading {
    min-height: 500px;
  }

  .features-section.loading {
    min-height: 600px;
  }

  .docs-preview-section.loading {
    min-height: 400px;
  }

  .loaded {
    opacity: 1;
    transform: translateY(0);
  }

  /* ===== SCROLLBAR STYLING - GLOBAL DESIGN ===== */

  /* Firefox scrollbar styling */
  :root {
    scrollbar-width: thin;
    scrollbar-color: var(--clr-accent) transparent; /* thumb: accent, track: transparent */
  }

  /* WebKit scrollbar styling - applied at root level for higher specificity */
  :root::-webkit-scrollbar {
    width: 8px;
    background: transparent;
  }

  :root::-webkit-scrollbar-track {
    border: transparent;
    background: transparent;
  }

  :root::-webkit-scrollbar-thumb {
    border-radius: var(--radius-md);
    background: var(--clr-accent);
  }

  @media (hover: hover) {
    :root::-webkit-scrollbar-thumb:hover {
      background: var(--clr-accent-dark);
    }
  }

  :root::-webkit-scrollbar-corner {
    background: transparent;
  }

  /* Selection fix for gradient text (background-clip: text) */
  .white-gradient-text::selection,
  .gold-marker::selection,
  .posts-header h1::selection,
  .tools-title-main::selection,
  .error-title::selection {
    background-color: var(--clr-accent);
    color: var(--clr-text-primary);
    -webkit-text-fill-color: var(
      --clr-text-primary
    ); /* force white while selected */
  }

  /* Firefox supports ::selection; vendor-prefixed rule removed to satisfy linter */

  /* Orphan Prevention - Based on UX Movement guidelines */
  p {
    orphans: 3; /* Minimum 3 lines at bottom of page */
    widows: 3; /* Minimum 3 lines at top of page */
    text-wrap: pretty; /* Modern CSS for better line breaks */
    line-height: var(--orphan-line-height);
    word-spacing: var(--orphan-word-spacing);
  }

  .article-content p,
  .prose p {
    /* Enhanced Orphan Prevention for Article Content - Tailwind Typography Integrated */
    orphans: var(--orphan-min-words);
    widows: var(--orphan-min-words);
    text-wrap: pretty;
    line-height: var(--orphan-line-height);
    word-spacing: var(--orphan-word-spacing);

    /* Prevent single words on last line */
    hyphens: auto;
    hyphenate-limit-chars: 6 3 3;
  }

  /* Smooth transitions for theme switching - but not affecting buttons */
  :not(button, .primary-button, .secondary-button) {
    transition:
      background-color var(--duration-normal) ease,
      border-color var(--duration-normal) ease,
      color var(--duration-normal) ease;
  }

  /* Base typography hierarchy */
  :where(:not([class*='text-'])) {
    h1 {
      padding-bottom: 0.1em; /* 下部に少し余白を追加 */
      font-size: var(--font-size-3xl);
      font-weight: var(--font-weight-bold);
      line-height: 1.3; /* ディセンダーが切れないように十分な行間を確保 */
      letter-spacing: -0.02em;
    }

    h2 {
      padding-bottom: 0.1em; /* 下部に少し余白を追加 */
      font-size: var(--font-size-2xl);
      font-weight: var(--font-weight-semibold);
      line-height: 1.3;
      letter-spacing: -0.015em;
    }

    h3 {
      padding-bottom: 0.1em; /* 下部に少し余白を追加 */
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.4;
    }

    h4 {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    small {
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }
  }

  /* Improved form elements */
  button,
  input,
  textarea,
  select {
    font-family: inherit;
    font-size: inherit;
  }

  button {
    padding: 0;
    border: none;
    background: none;
    cursor: pointer;
  }

  button:disabled {
    opacity: var(--opacity-60);
    cursor: not-allowed;
  }

  a {
    color: var(--clr-accent);
    text-decoration: none;
    transition: color var(--duration-fast) ease;
  }

  @media (hover: hover) {
    a:hover {
      color: var(--clr-accent-dark);
    }
  }

  img {
    display: block;
    max-width: 100%;
    height: auto;
  }
}

/* ========== TEXT FORMATTING CLASSES ========== */

/* Enhanced font support for Japanese and emoji */
.emoji {
  font-family: var(--font-emoji) !important;
  font-variant-emoji: emoji !important;
}

.japanese {
  font-family: var(--font-jp);
}

/* Japanese logo font - Always use Yuji Syuku for "語楽道" */
.logo-japanese {
  font-family: var(--font-jp-logo) !important;
  font-weight: 400;
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  overflow: hidden;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  border: 0;
  white-space: nowrap;
  clip-path: inset(100%);
}

.sr-only.focus:not-sr-only {
  position: static;
  overflow: visible;
  width: auto;
  height: auto;
  margin: initial;
  padding: initial;
  white-space: normal;
  clip-path: none;
}

/* ========== ARTICLE TYPOGRAPHY STYLES - TAILWIND TYPOGRAPHY INTEGRATED ========== */

/* Custom typography for tool articles - mobile-first responsive design */
.article-content {
  color: var(--clr-text-primary);
  line-height: var(--orphan-line-height);
  orphans: var(--orphan-min-words);
  widows: var(--orphan-min-words);
  text-wrap: pretty;
  word-spacing: var(--orphan-word-spacing);
  hyphens: auto;
  hyphenate-limit-chars: 6 3 3;
  hyphenate-limit-lines: 2;
  hyphenate-limit-last: always;

  @media (min-width: 640px) {
    font-size: 1rem;
  }

  @media (min-width: 768px) {
    font-size: 1.125rem;
    orphans: var(--orphan-min-words);
    widows: var(--orphan-min-words);
    text-wrap: pretty;
    word-spacing: var(--orphan-word-spacing);
  }

  @media (min-width: 1024px) {
    font-size: 1.1875rem;
    orphans: var(--orphan-desktop-min-words);
    widows: var(--orphan-desktop-min-words);
    text-wrap: pretty;
    line-height: var(--orphan-desktop-line-height);
    word-spacing: var(--orphan-word-spacing);
  }

  @media (min-width: 1280px) {
    font-size: 1.25rem;
    orphans: var(--orphan-desktop-min-words);
    widows: var(--orphan-desktop-min-words);
    text-wrap: pretty;
    line-height: var(--orphan-desktop-line-height);
    word-spacing: var(--orphan-word-spacing);
    text-justify: inter-word;
    text-align-last: left;
  }

  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      transition-duration: 0.01ms;
      animation-duration: 0.01ms;
      animation-iteration-count: 1;
    }
  }

  @media (prefers-contrast: high) {
    --clr-foreground: var(--clr-black);
    --clr-background: var(--clr-text-primary);
  }
}

/* ===== TAILWIND TYPOGRAPHY ORPHAN PREVENTION INTEGRATION ===== */

/* Enhanced prose classes with Orphan Prevention */
.prose {
  orphans: var(--orphan-min-words);
  widows: var(--orphan-min-words);
  text-wrap: pretty;
  line-height: var(--orphan-line-height);
  word-spacing: var(--orphan-word-spacing);

  p,
  li {
    @media (max-width: 768px) {
      orphans: var(--orphan-mobile-min-words);
      widows: var(--orphan-mobile-min-words);
      line-height: var(--orphan-mobile-line-height);
    }

    @media (min-width: 1024px) {
      orphans: var(--orphan-desktop-min-words);
      widows: var(--orphan-desktop-min-words);
      line-height: var(--orphan-desktop-line-height);
    }
  }
}

/* Prose variants with specific Orphan Prevention settings */
.prose-content {
  orphans: var(--orphan-min-words);
  widows: var(--orphan-min-words);
  text-wrap: pretty;
  line-height: var(--orphan-line-height);
  word-spacing: var(--orphan-word-spacing);
}

.prose-go {
  orphans: var(--orphan-min-words);
  widows: var(--orphan-min-words);
  text-wrap: pretty;
  line-height: var(--orphan-line-height);
  word-spacing: var(--orphan-word-spacing);
}

/* Headings - Mobile optimized */
.article-content h1 {
  margin-bottom: 1.5rem;
  color: var(--clr-text-primary);
  font-size: 1.5rem;
  font-weight: 700;
  line-height: 1.3;
  letter-spacing: -0.02em;

  @media (min-width: 640px) {
    font-size: 1.875rem;
  }

  @media (min-width: 768px) {
    margin-bottom: 2rem;
    font-size: 2.5rem;
  }

  @media (min-width: 1024px) {
    font-size: 3rem;
    line-height: 1.2;
  }

  @media (min-width: 1280px) {
    font-size: 3.5rem;
  }
}

.article-content h2 {
  margin-bottom: 1rem;
  padding-bottom: 0.1em; /* 下部に少し余白を追加 */
  color: var(--clr-text-primary);
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.4;
  letter-spacing: -0.01em;

  @media (min-width: 640px) {
    font-size: 1.5rem;
  }

  @media (min-width: 768px) {
    margin-bottom: 1.5rem;
    font-size: 1.875rem;
  }

  @media (min-width: 1024px) {
    font-size: 2.25rem;
  }

  @media (min-width: 1280px) {
    font-size: 3rem;
  }
}

.article-content h3 {
  margin-bottom: 0.75rem;
  padding-bottom: 0.1em; /* 下部に少し余白を追加 */
  color: var(--clr-text-primary);
  font-size: 1.125rem;
  font-weight: 600;
  line-height: 1.4;

  @media (min-width: 640px) {
    font-size: 1.25rem;
  }

  @media (min-width: 768px) {
    margin-bottom: 1rem;
    font-size: 1.5rem;
  }

  @media (min-width: 1024px) {
    font-size: 1.875rem;
  }

  @media (min-width: 1280px) {
    font-size: 2.25rem;
  }
}

.article-content h4 {
  margin-bottom: 0.5rem;
  color: var(--clr-text-primary);
  font-size: 1rem;
  font-weight: 600;
  line-height: 1.4;

  @media (min-width: 768px) {
    font-size: 1.25rem;
  }

  @media (min-width: 1280px) {
    font-size: 1.5rem;
  }
}

/* Paragraph and text elements */
.article-content p {
  margin-bottom: 1rem;
  color: var(--clr-text-primary);
  line-height: 1.7;

  @media (min-width: 640px) {
    margin-bottom: 1.25rem;
    orphans: var(--orphan-mobile-min-words);
    widows: var(--orphan-mobile-min-words);
    text-wrap: pretty;
  }

  @media (min-width: 768px) {
    margin-bottom: 1.5rem;
    line-height: 1.8;
  }
}

.article-content blockquote {
  margin: 1rem 0;
  padding: 1rem;
  padding-left: 1rem;
  border-left: 4px solid var(--clr-accent);
  border-radius: 0 0.5rem 0.5rem 0;
  background: var(--clr-text-muted);
  color: var(--clr-text-secondary);
  font-style: italic;

  @media (min-width: 768px) {
    padding-left: 1.5rem;
  }
}

/* Lists */
.article-content ul,
.article-content ol {
  margin-bottom: 1rem;
  padding-left: 1.5rem;

  @media (min-width: 768px) {
    padding-left: 2rem;
  }
}

.article-content li {
  margin-bottom: 0.5rem;
  color: var(--clr-text-primary);
  line-height: 1.7;

  @media (max-width: 768px) {
    orphans: var(--orphan-mobile-min-words);
    widows: var(--orphan-mobile-min-words);
    line-height: var(--orphan-mobile-line-height);
  }

  @media (min-width: 1024px) {
    orphans: var(--orphan-desktop-min-words);
    widows: var(--orphan-desktop-min-words);
    line-height: var(--orphan-desktop-line-height);
  }
}

.article-content ul > li {
  list-style-type: disc;
}

.article-content ol > li {
  list-style-type: decimal;
}

/* Code blocks and inline code */
.article-content pre {
  overflow-x: auto;
  margin: 1rem 0;
  padding: 1rem;
  border-radius: 0.5rem;
  background: oklch(10% 0.01 270deg / var(--opacity-8));
  font-family: var(--font-code);
  font-size: 0.875rem;
  line-height: 1.5;

  @media (min-width: 1024px) {
    padding: 1.5rem;
  }
}

.article-content code {
  padding: 0.125rem 0.5rem;
  border-radius: 0.25rem;
  background: oklch(15% 0.02 270deg / var(--opacity-8));
  color: var(--clr-gold-dark);
  font-family: var(--font-code);
  font-size: 0.875rem;
}

.article-content pre code {
  padding: 0;
  background: transparent;
  color: var(--clr-text-primary);
}

/* Links */
.article-content a {
  color: var(--clr-accent);
  text-decoration: underline;
  text-decoration-color: oklch(65% 0.18 280deg / var(--opacity-3));
  text-underline-offset: 2px;
  transition: all 0.2s ease;
}

a:focus-visible,
button:focus-visible,
.article-content a:focus,
.article-content button:focus {
  outline: 2px solid oklch(from var(--clr-accent) l c h / var(--opacity-50));
  outline-offset: 2px;
}

@media (hover: hover) {
  .article-content a:hover {
    text-decoration-thickness: 2px;
    text-decoration-color: var(--clr-accent);
  }
}

/* Tables */
.article-content table {
  width: 100%;
  margin: 1rem 0;
  border-collapse: collapse;
  border: 1px solid var(--clr-text-muted);
}

.article-content th,
.article-content td {
  padding: 0.5rem 1rem;
  border: 1px solid var(--clr-text-muted);
  text-align: left;
}

.article-content th {
  background: var(--clr-text-muted);
  color: var(--clr-text-primary);
  font-weight: 600;
}

.article-content td {
  color: var(--clr-text-primary);
}

/* Images */
.article-content img {
  display: block;
  max-width: 100%;
  height: auto;
  margin: 1rem auto;
  border-radius: 0.5rem;
  box-shadow: 0 4px 6px var(--clr-black-1);
}

/* Horizontal rules */
.article-content hr {
  margin: 2rem 0;
  border: none;
  border-top: 1px solid var(--clr-text-muted);
}

/* Emphasis */
.article-content strong,
.article-content b {
  color: var(--clr-accent);
  font-weight: 600;
}

.article-content em,
.article-content i {
  color: var(--clr-text-primary);
  font-family: var(--font-serif);
  font-style: italic;
}

/* ========== TAILWIND V4.1 THEME TOKENS - PURE OKLCH IMPLEMENTATION ========== */
@theme {
  /* ===== SEMANTIC COLOR PALETTE - PURE OKLCH IMPLEMENTATION ===== */

  /* 
   * REASONING: Complete OKLCH color system implementation for superior color science
   * CHANGE: All colors now use OKLCH for better perceptual uniformity and future-proofing
   */

  /* Secondary gold - OKLCH optimized */
  --clr-secondary: var(--clr-secondary-gold);
  --clr-secondary-foreground: var(--token-secondary-foreground);

  /* Muted colors - mapped from legacy text colors */
  --clr-muted: var(--clr-text-muted);
  --clr-muted-foreground: var(--clr-text-secondary);

  /* Accent colors - now references the primary color system */
  --clr-accent: var(--clr-accent);
  --clr-accent-foreground: var(--token-accent-foreground);

  /* Semantic colors - enhanced from legacy */
  --clr-destructive: oklch(58% 0.15 15deg);
  --clr-destructive-foreground: var(--token-accent-foreground);
  --clr-info: oklch(54% 0.245 262.881deg);
  --clr-success: oklch(59% 0.145 163.225deg);
  --clr-warning: oklch(66% 0.179 58.318deg);
  --clr-error: oklch(58% 0.253 17.585deg);

  /* Border and input colors */
  --clr-border: var(--clr-text-muted);
  --clr-input: var(--token-bg-input);
  --clr-ring: var(--clr-accent);

  /* ===== DESIGN TOKENS - PRESERVED AND ENHANCED FROM LEGACY ===== */

  /* Border radius - preserving legacy values */
  --radius-sm: 0.25rem; /* 4px */
  --radius-md: 0.5rem; /* 8px */
  --radius-lg: 0.75rem; /* 12px - legacy --border-radius-lg */
  --radius-xl: 1rem; /* 16px */
  --radius-pill: 9999px; /* Legacy --border-radius-pill: 35px enhanced to full pill */
  --radius-card: 1.25rem; /* 20px - legacy --border-radius-card */

  /* Spacing scale - preserving legacy system */
  --spacing-xs: 0.25rem; /* 4px - legacy --spacing-xs */
  --spacing-sm: 0.5rem; /* 8px - legacy --spacing-sm */
  --spacing-md: 1rem; /* 16px - legacy --spacing-md */
  --spacing-lg: 1.5rem; /* 24px - legacy --spacing-lg */
  --spacing-xl: 2rem; /* 32px - legacy --spacing-xl */
  --spacing-2xl: 3rem; /* 48px - legacy --spacing-2xl */
  --spacing-3xl: 4rem; /* 64px - legacy --spacing-3xl */

  /* Typography scale - preserving legacy font sizes */
  --font-size-xs: 0.75rem; /* 12px - legacy --font-size-xs */
  --font-size-sm: 0.875rem; /* 14px - legacy --font-size-sm */
  --font-size-base: 1rem; /* 16px - legacy --font-size-base */
  --font-size-lg: 1.125rem; /* 18px - legacy --font-size-lg */
  --font-size-xl: 1.25rem; /* 20px - legacy --font-size-xl */
  --font-size-2xl: 1.5rem; /* 24px - legacy --font-size-2xl */
  --font-size-3xl: 1.875rem; /* 30px - legacy --font-size-3xl */
  --font-size-4xl: 2.25rem; /* 36px - legacy --font-size-4xl */

  /* Font weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Animation durations - optimized for silk-smooth responsiveness */
  --duration-snappy: 80ms; /* Ultra-fast for active states */
  --duration-fast: 120ms; /* Fast interactions - matching legacy primary button transform */
  --duration-normal: 180ms; /* Normal interactions - matching legacy primary button shadow */
  --duration-slow: 300ms; /* Slower animations */
  --duration-slower: 500ms; /* Slowest animations */

  /* Shadow system - enhanced from legacy */
  --shadow-sm: 0 1px 2px var(--clr-black-05);
  --shadow-md: 0 4px 8px var(--clr-black-15), 0 2px 4px var(--clr-black-1);
  --shadow-lg: 0 8px 16px var(--clr-black-2), 0 4px 8px var(--clr-black-1);
  --shadow-xl: 0 16px 32px var(--clr-black-25), 0 8px 16px var(--clr-black-15);

  /* Special shadows with color - preserving legacy values */
  --shadow-primary: 0 8px 24px oklch(65% 0.18 280deg / var(--opacity-3));
  --shadow-secondary: 0 4px 16px var(--clr-secondary-gold-25);

  /* Container breakpoints - preserving legacy */
  --container-xs: 320px; /* Legacy --container-xs */
  --container-sm: 640px; /* Legacy --container-sm */
  --container-md: 768px; /* Legacy --container-md */
  --container-lg: 1024px; /* Legacy --container-lg */
  --container-xl: 1280px; /* Legacy --container-xl */
  --container-2xl: 1600px; /* Legacy --container-2xl */

  /* Legacy animation registration */
  --animate-twinkle: twinkle 3s infinite;
}

/* ========== COMPONENT LAYER - LEGACY AND MODERN BUTTON SYSTEMS ========== */
@layer components {
  /*
   * REASONING: Preserving ALL legacy component classes while adding modern alternatives
   * CHANGE: Maintaining exact legacy behavior while providing enhanced modern versions
   */

  /* ===== CARD COMPONENTS ===== */
  .card {
    padding: var(--spacing-lg);
    border: 1px solid var(--clr-text-muted);
    border-radius: var(--radius-lg);
    background: var(--clr-background);
    transition:
      box-shadow var(--duration-normal) ease,
      transform var(--duration-normal) ease;
    box-shadow: var(--shadow-sm);
  }

  @media (hover: hover) {
    .card:hover {
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }
  }

  .glass-panel {
    border: 1px solid oklch(25% 0.015 270deg / var(--opacity-2));
    border-radius: var(--radius-xl);
    background: oklch(12% 0.008 270deg / var(--opacity-8));
    box-shadow: var(--shadow-xl);
    backdrop-filter: blur(6px);

    @media (max-width: 768px) {
      backdrop-filter: none;
      background: oklch(12% 0.008 270deg / var(--opacity-12));
    }
  }
}

/* ========== UTILITY LAYER - LEGACY AND MODERN UTILITIES ========== */
@layer utilities {
  /*
   * REASONING: Preserving ALL legacy utility classes while adding modern enhancements
   * CHANGE: Maintaining backward compatibility while providing improved alternatives
   */

  /* ===== LEGACY GOLD MARKER - PRESERVED EXACTLY ===== */
  .gold-marker {
    @apply mb-2 block text-[var(--clr-gold-dark)] [text-shadow:1px_1px_5px_oklch(0_0_0/0.1)];

    background-image: linear-gradient(
      135deg,
      var(--clr-gold-light) 0%,
      var(--clr-gold-dark) 70%
    );
    background-clip: text;
    font-family: var(--font-serif);
  }

  @supports (background-clip: text) {
    .gold-marker {
      @apply bg-clip-text text-transparent;
    }
  }

  /* ===== GLASSMORPHISM UTILITIES - REUSABLE COMPONENTS ===== */
  .glassmorphism {
    position: relative;
    overflow: hidden;
    border: 1px solid oklch(100% 0 0deg / var(--opacity-20));
    border-radius: 16px;
    background: oklch(100% 0 0deg / var(--opacity-10));
    backdrop-filter: blur(12px);
    box-shadow:
      0 8px 32px oklch(0% 0 0deg / var(--opacity-10)),
      inset 0 1px 0 oklch(100% 0 0deg / var(--opacity-20));

    @media (max-width: 768px) {
      backdrop-filter: blur(8px);
      background: oklch(100% 0 0deg / var(--opacity-08));
    }

    @media (prefers-reduced-motion: reduce) {
      transition: none;
    }

    @media (prefers-contrast: high) {
      border: 2px solid var(--clr-text-primary);
      background: var(--clr-black-85);
      backdrop-filter: blur(12px) saturate(120%);

      @media (hover: hover) {
        &:hover {
          background: var(--clr-black-95);
          border-color: var(--clr-accent);
          backdrop-filter: blur(12px) saturate(120%);
        }
      }
    }
  }

  /* GlassMorphism variants */
  .glassmorphism-card {
    border-radius: var(--border-radius-card);
  }

  /* ===== LEGACY GRID UTILITIES - PRESERVED ===== */
  .grid-auto-fit {
    grid-template-columns: repeat(auto-fit, minmax(15.5rem, 1fr));
  }

  .grid-auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(12.5rem, 1fr));
  }

  .grid-masonry {
    grid-template-columns: repeat(auto-fill, minmax(18.5rem, 1fr));
    grid-auto-rows: 0;
    grid-auto-flow: dense;
  }

  /* グローバルレベルでデフォルトのテキストカラーを白色に設定 */

  body,
  p,
  div,
  span,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  a,
  li,
  td,
  th,
  small,
  label,
  input,
  textarea,
  select {
    color: var(--clr-text-primary);
  }
}

/* ========== LIST STYLING - GLOBAL CONSISTENCY ========== */

/* Unordered lists with custom bullets */
.article-content ul,
.content-description-content ul {
  margin: 1rem 0;
  padding-left: 0;
  list-style: none;

  @media (max-width: 768px) {
    margin: 0.75rem 0;
  }
}

.article-content ul li,
.content-description-content ul li {
  position: relative;
  margin-bottom: 0.75rem;
  padding-inline: 0.5rem 1.5rem;
  line-height: 1.7;
  overflow-wrap: break-word;
  hyphens: auto;

  @media (max-width: 768px) {
    margin-bottom: 0.5rem;
    padding-inline: 0.25rem 1.25rem;
    line-height: var(--orphan-mobile-line-height);
  }

  @media (min-width: 1024px) {
    margin-bottom: 0.875rem;
    padding-inline: 0.75rem 1.75rem;
    line-height: var(--orphan-desktop-line-height);
  }
}

.article-content ul li::before,
.content-description-content ul li::before {
  position: absolute;
  top: 50%;
  left: 0;
  color: var(--clr-accent);
  font-size: 1.1rem;
  font-weight: 900;
  line-height: 1;
  transform: translateY(-50%);
  content: '〆';

  @media (max-width: 768px) {
    font-size: 1rem;
  }
}

/* Ordered lists */
.article-content ol,
.content-description-content ol {
  margin: 1rem 0;
  padding-left: 1.5rem;
  list-style: decimal;

  @media (max-width: 768px) {
    margin: 0.75rem 0;
  }
}

.article-content ol li,
.content-description-content ol li {
  margin-bottom: 0.75rem;
  padding-right: 0.5rem;
  line-height: 1.7;
  overflow-wrap: break-word;
  hyphens: auto;

  @media (max-width: 768px) {
    margin-bottom: 0.5rem;
    padding-inline: 0.25rem 1.25rem;
    line-height: var(--orphan-mobile-line-height);
  }

  @media (min-width: 1024px) {
    margin-bottom: 0.875rem;
    padding-inline: 0.75rem 1.75rem;
    line-height: var(--orphan-desktop-line-height);
  }
}

.article-content ol li::marker,
.content-description-content ol li::marker {
  color: var(--clr-accent);
  font-size: 1.1rem;
  font-weight: 700;

  @media (max-width: 768px) {
    font-size: 1rem;
  }
}

/* Nested lists */
.article-content ul ul,
.article-content ol ol,
.article-content ul ol,
.article-content ol ul {
  margin: 0.5rem 0;
  padding-left: 0;

  @media (max-width: 768px) {
    padding-left: 0.75rem;
  }
}

.article-content ul ul {
  list-style: none;
}

.article-content ol ol {
  list-style: lower-alpha;
}

.article-content .nested-list li::before {
  position: absolute;
  top: 0;
  left: 0;
  color: var(--clr-accent);
  font-size: 0.875rem;
  font-weight: 700;
  content: '〆';

  @media (max-width: 768px) {
    font-size: 0.75rem;
  }
}

/* ========== ANIMATION SYSTEM - OPTIMIZED ========== */

/* Core animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideFromRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideFromBottom {
  from {
    opacity: 0;
    transform: translateY(30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hover-lift {
  transform: var(--hover-lift);
}

/* ===== HOVER EFFECTS - DESKTOP ONLY ===== */

/* 
 * REASONING: Define hover effects only for devices that support hover
 * SOLUTION: Use @media (hover: hover) instead of disabling on mobile
 * BENEFIT: No !important needed, cleaner CSS, better performance
 */

/* ===== REMOVED: UNIVERSAL TEXT COLOR FIX =====
   * グローバルな強制上書きは削除。
   * 文字色は各コンポーネント・セクションで自然継承させ、
   * :active の text-fill フィックスのみをグローバル維持。
   */

/* フォーカス状態のスタイル - 50%透明 */
.primary-button:focus-visible,
.secondary-button:focus-visible,
.hero-button:focus-visible,
.docs-button:focus-visible,
.get-started-btn:focus-visible,
.discord-link:focus-visible {
  outline: 2px solid oklch(from var(--clr-accent) l c h / var(--opacity-50));
  outline-offset: 2px;
}

/* カード要素の文字色を強制的に白に設定 */
.card,
.card-content,
.card-title,
.card-description {
  color: var(--clr-text-primary);
}

.card *,
.card-content *,
.card-title *,
.card-description * {
  color: inherit;
}

/* モーダル要素の文字色を強制的に白に設定 */
.modal,
.modal-content,
.modal-title,
.modal-description {
  color: var(--clr-text-primary);
}

.modal *,
.modal-content *,
.modal-title *,
.modal-description * {
  color: inherit;
}

/* ===== BOTTOM NAVIGATION BAR SPACING ===== */

@media (max-width: 1024px) {
  .layout-content,
  .article-layout-container,
  .content-page,
  main,
  .content-wrapper,
  .article-content-wrapper {
    padding-bottom: var(--bottom-nav-spacing);
  }
}

@media (max-width: 360px) {
  .layout-content,
  .article-layout-container,
  .content-page,
  main,
  .content-wrapper,
  .article-content-wrapper {
    padding-bottom: var(--bottom-nav-spacing-small);
  }
}
