@import 'tailwindcss';

/* ========================================
   Japanese Learning Guide - 最適化されたスタイル
   Mobile First, Performance Focused, Accessible
   ======================================== */

/* ========================================
   DESIGN TOKENS - 最適化された変数
   ======================================== */
:root {
  /* Spacing Scale */
  --space-xs: 0.25rem; /* 4px */
  --space-sm: 0.5rem; /* 8px */
  --space-md: 0.75rem; /* 12px */
  --space-lg: 1rem; /* 16px */
  --space-xl: 1.25rem; /* 20px */
  --space-2xl: 1.5rem; /* 24px */
  --space-3xl: 2rem; /* 32px */
  --space-4xl: 2.5rem; /* 40px */
  --space-5xl: 3rem; /* 48px */
  --space-6xl: 4rem; /* 64px */

  /* Typography Scale */
  --text-xs: 0.875rem; /* 14px */
  --text-sm: 1rem; /* 16px */
  --text-base: 1.125rem; /* 18px */
  --text-lg: 1.25rem; /* 20px */
  --text-xl: 1.5rem; /* 24px */
  --text-2xl: 1.75rem; /* 28px */
  --text-3xl: 2.25rem; /* 36px */
  --text-4xl: 3rem; /* 48px */
  --text-5xl: 3.5rem; /* 56px */

  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;

  /* Line Heights */
  --leading-tight: 1.2;
  --leading-snug: 1.3;
  --leading-normal: 1.4;
  --leading-relaxed: 1.5;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);

  /* Transitions */
  --transition-fast: 150ms ease-in-out;
  --transition-normal: 250ms ease-in-out;
  --transition-slow: 350ms ease-in-out;

  /* Z-Index Scale */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal: 1040;
  --z-popover: 1050;
  --z-tooltip: 1060;
}

/* ========================================
   BASE LAYOUT - Mobile First
   ======================================== */
.pl-guide-page {
  min-height: 100vh;
  padding: var(--space-lg);
  padding-top: calc(var(--space-lg) + 5.5rem); /* Navbar offset */
  background: transparent;

  @media (min-width: 768px) {
    padding: var(--space-3xl);
    padding-top: calc(var(--space-3xl) + 5.75rem);
  }

  @media (min-width: 1024px) {
    padding: var(--space-5xl) var(--space-3xl);
    padding-top: calc(var(--space-5xl) + 5.75rem);
  }

  @media (prefers-color-scheme: dark) {
    background: transparent;
  }
}

.container {
  max-width: 100%;
  margin: 0 auto;

  @media (min-width: 768px) {
    max-width: 1200px;
  }

  @media (min-width: 1024px) {
    max-width: 1400px;
  }
}

/* ========================================
   HEADER SECTION
   ======================================== */
.title-section {
  margin-bottom: var(--space-6xl);
  text-align: center;
}

.page-title-main {
  margin: 0 0 var(--space-lg);
  background: linear-gradient(
    135deg,
    var(--clr-text-primary) 0%,
    var(--clr-accent) 100%
  );
  color: var(--clr-text-primary);
  font-size: clamp(var(--text-2xl), 4vw, var(--text-5xl));
  font-weight: var(--font-bold);
  line-height: var(--leading-tight);
  letter-spacing: -0.02em;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* ========================================
   CONTENT LAYOUT
   ======================================== */
.content-frame {
  display: grid;
  gap: var(--space-3xl);
  grid-template-columns: 1fr;
  margin-bottom: var(--space-4xl);

  @media (min-width: 768px) {
    align-items: start;
    gap: var(--space-5xl);
    grid-template-columns: 1fr 300px;
    margin-bottom: var(--space-5xl);
  }

  @media (min-width: 1024px) {
    gap: var(--space-6xl);
    grid-template-columns: 1fr 400px;
    margin-bottom: var(--space-6xl);
  }
}

.content-left {
  display: flex;
  flex-direction: column;
}

.content-right {
  order: -1;

  @media (min-width: 768px) {
    order: 0;
  }
}

/* ========================================
   DESCRIPTION SECTION
   ======================================== */
.description-section {
  padding: var(--space-2xl) var(--space-2xl) var(--space-xl) var(--space-2xl);

  @media (min-width: 768px) {
    padding: var(--space-3xl) var(--space-3xl) var(--space-2xl) var(--space-3xl);
  }
}

.content-description-content {
  color: var(--clr-text-primary);
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);

  @media (min-width: 768px) {
    font-size: var(--text-lg);
  }

  p {
    margin: 0 0 var(--space-lg);

    &:last-child {
      margin-bottom: 0;
    }
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: var(--space-3xl) 0 var(--space-lg);
    color: var(--clr-text-primary);
    font-weight: var(--font-semibold);
    line-height: var(--leading-snug);
  }

  h3 {
    color: var(--clr-accent);
    font-size: var(--text-xl);

    @media (min-width: 768px) {
      font-size: var(--text-2xl);
    }
  }

  h1:first-child,
  h2:first-child,
  h3:first-child,
  h4:first-child,
  h5:first-child,
  h6:first-child {
    margin-top: 0;
  }

  ul,
  ol {
    margin: var(--space-lg) 0;
    padding-left: var(--space-2xl);
  }

  li {
    margin: var(--space-sm) 0;
    line-height: var(--leading-relaxed);
  }

  a {
    color: var(--clr-accent);
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: var(--space-xs);
    transition: color var(--transition-fast);

    &:hover {
      color: var(--clr-accent-dark);
      text-decoration-thickness: 2px;
    }
  }

  strong {
    color: var(--clr-text-primary);
    font-weight: var(--font-semibold);
  }
}

/* ========================================
   PRICE SECTION - Redesigned
   ======================================== */
.price-section {
  padding: var(--space-xl) var(--space-2xl) var(--space-2xl) var(--space-2xl);
  text-align: left;

  @media (min-width: 768px) {
    padding: var(--space-2xl) var(--space-3xl) var(--space-3xl) var(--space-3xl);
  }
}

.price-container {
  max-width: 600px;
  margin: 0;

  @media (min-width: 768px) {
    padding-left: var(--space-lg);
    transform: scale(1.5);
    transform-origin: left top;
  }
}

/* Price Row */
.price-row {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  margin-bottom: var(--space-sm);
}

/* Current Price with Badge */
.price-current-container {
  flex: 0 0 auto;
}

.price-current-badge {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: 2px 4px;
  border: 1px solid #ffb2c2;
  border-radius: 5px;
  background-color: #fff5f6;
}

.discount-icon {
  width: 16px;
  height: 16px;
  color: #f94d63;
}

.price-current-value {
  color: #f94d63;
  font-family:
    Open Sauce One,
    sans-serif;
  font-size: var(--text-sm);
  font-weight: var(--font-bold);
}

/* Original Price */
.price-original-container {
  flex: 0 0 auto;
}

.price-original-value {
  color: #aab4c8;
  font-family:
    Open Sauce One,
    sans-serif;
  font-size: var(--text-base);
  text-decoration: line-through;
}

/* Discount Message */
.price-discount-message {
  margin-bottom: var(--space-lg);
}

.discount-text {
  color: #ff7f17;
  font-family:
    Open Sauce One,
    sans-serif;
  font-size: var(--text-sm);
  font-weight: var(--font-bold);
  letter-spacing: 0.1px;
}

/* ========================================
   LANGUAGE LEARNING PROBLEMS SECTION
   ======================================== */
.language-learning-problems {
  margin-top: var(--space-4xl);
  margin-bottom: var(--space-4xl);
  padding: var(--space-4xl) 0;
  background: transparent;
}

.problems-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-lg);
  max-width: 1050px;
  margin: 0 auto;
  padding: calc(var(--space-2xl) * 1.5);

  @media (min-width: 768px) {
    gap: var(--space-xl);
    padding: calc(var(--space-3xl) * 1.5);
  }
}

.problems-title {
  margin: 0;
  color: var(--clr-text-primary);
  font-family: Inter, sans-serif;
  font-size: clamp(var(--text-2xl), 4vw, var(--text-4xl));
  font-weight: 700;
  line-height: 1.3;
  text-align: center;
  letter-spacing: -0.02em;

  @media (min-width: 768px) {
    font-size: var(--text-4xl);
  }
}

.problems-subtitle {
  max-width: 800px;
  text-align: center;
}

.problems-subtitle-text {
  margin: 0;
  color: var(--clr-text-primary);
  font-family: Inter, sans-serif;
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);

  @media (min-width: 768px) {
    font-size: var(--text-lg);
  }
}

.problems-list {
  display: grid;
  gap: var(--space-2xl);
  grid-template-columns: 1fr;
  margin: var(--space-lg) 0 0;
  padding: 0;
  list-style: none;

  @media (min-width: 768px) {
    gap: var(--space-3xl);
    grid-template-columns: repeat(3, 1fr);
  }
}

.problem-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-lg);
  max-width: 300px;
  text-align: center;

  @media (min-width: 768px) {
    max-width: 297px;
  }
}

.problem-image-container {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 134px;
  height: 134px;
}

.problem-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: var(--filter-grayscale);
  transition: filter var(--transition-normal);

  &:hover {
    filter: none;
  }
}

.problem-text {
  margin: 0;
  color: var(--clr-text-primary);
  font-family: Inter, sans-serif;
  font-size: var(--text-base);
  font-weight: 700;
  line-height: var(--leading-relaxed);

  u {
    text-decoration: underline;
    text-decoration-thickness: 2px;
    text-underline-offset: 2px;
  }

  @media (min-width: 768px) {
    font-size: var(--text-lg);
  }
}

/* ========================================
   IMAGE SECTION
   ======================================== */
.image-container {
  position: relative;
  width: 100%;
  max-width: 20rem;
  margin: 0 auto;

  &::before {
    content: '';
    display: block;
    padding-top: 100%; /* 1:1 aspect ratio */
  }
}

.hero-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(var(--shadow-lg));
  opacity: 0.9;
  transition: transform var(--transition-normal);

  &:hover {
    transform: translateY(-4px);

    @media (prefers-reduced-motion: reduce) {
      transform: none;
    }
  }
}

/* ========================================
   ACCESSIBILITY IMPROVEMENTS
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms;
    animation-iteration-count: 1;
    transition-duration: 0.01ms;
  }

  .problem-image {
    transition: none;

    &:hover {
      filter: var(--filter-grayscale);
    }
  }
}

/* Focus styles for keyboard navigation */
*:focus-visible {
  outline: 2px solid var(--clr-accent);
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .page-title-main {
    background: none;
    color: var(--clr-text-primary);
    -webkit-text-fill-color: initial;
  }

  .cta-button {
    border: 2px solid var(--clr-accent);
  }
}

/* ========================================
   RESPONSIVE ADJUSTMENTS
   ======================================== */
@media (max-width: 767px) {
  .language-learning-problems {
    margin-top: var(--space-3xl);
    margin-bottom: var(--space-3xl);
    padding: var(--space-3xl) 0;
  }

  .problems-container {
    gap: var(--space-md);
  }

  .problems-list {
    gap: var(--space-xl);
  }
}

/* Print styles */
@media print {
  .pl-guide-page {
    padding: 0;
    background: white;
  }

  .cta-button {
    background: var(--clr-accent);
    color: white;
    box-shadow: none;
  }
}
